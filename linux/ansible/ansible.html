<!DOCTYPE html>
<html lang="zh-CN" data-theme="light">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <meta name="generator" content="VuePress 2.0.0-beta.60" />
    <meta name="theme" content="VuePress Theme Hope" />
    <meta property="og:url" content="https://topjf.github.io/linux/ansible/ansible.html"><meta property="og:site_name" content="topjf"><meta property="og:title" content="ansible AD-Hocå‘½ä»¤æ‰§è¡Œå·¥å…·"><meta property="og:description" content="ansible ä¸­æ–‡æŒ‡å— (http://ansible.com.cn/docs/intro.html) æœ¬èŠ‚ç¤ºä¾‹æ–‡ä»¶ æå–ç ï¼š1234 (https://pan.baidu.com/s/1fkosURl4HaYZALtSjKvcKg) ä¸€ã€ansible AD-Hoc Ansibe AD-Hoc ä¸´æ—¶å‘½ä»¤æ‰§è¡Œå·¥å…·ï¼Œå¸¸ç”¨äºä¸´æ—¶å‘½ä»¤çš„æ‰§è¡Œ ä¹Ÿå¯ä»¥é€šè¿‡an..."><meta property="og:type" content="article"><meta property="og:image" content="https://topjf.github.io/"><meta property="og:locale" content="zh-CN"><meta property="og:updated_time" content="2022-12-16T06:02:03.000Z"><meta name="twitter:card" content="summary_large_image"><meta name="twitter:image:alt" content="ansible AD-Hocå‘½ä»¤æ‰§è¡Œå·¥å…·"><meta property="article:tag" content="ansible"><meta property="article:published_time" content="2022-07-29T00:00:00.000Z"><meta property="article:modified_time" content="2022-12-16T06:02:03.000Z"><script type="application/ld+json">{"@context":"https://schema.org","@type":"Article","headline":"ansible AD-Hocå‘½ä»¤æ‰§è¡Œå·¥å…·","image":["https://topjf.github.io/"],"datePublished":"2022-07-29T00:00:00.000Z","dateModified":"2022-12-16T06:02:03.000Z","author":[]}</script><script type="text/javascript" src="/script/demo.js"></script><link rel="stylesheet" href="/iconfont/iconfont.css"><link rel="icon" href="/assets/icon/chrome-192.png" type="image/png" sizes="192x192"><link rel="icon" href="/assets/icon/chrome-512.png" type="image/png" sizes="512x512"><link rel="icon" href="/assets/icon/chrome-mask-192.png" type="image/png" sizes="192x192"><link rel="icon" href="/assets/icon/chrome-mask-512.png" type="image/png" sizes="512x512"><link rel="manifest" href="/manifest.webmanifest" crossorigin="use-credentials"><meta name="theme-color" content="#46bd87"><link rel="apple-touch-icon" href="/assets/icon/apple-icon-152.png"><meta name="apple-mobile-web-app-capable" content="yes"><meta name="apple-mobile-web-app-status-bar-style" content="black"><meta name="msapplication-TileImage" content="/assets/icon/ms-icon-144.png"><meta name="msapplication-TileColor" content="#ffffff"><meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, viewport-fit=cover"><title>ansible AD-Hocå‘½ä»¤æ‰§è¡Œå·¥å…· | topjf</title><meta name="description" content="ansible ä¸­æ–‡æŒ‡å— (http://ansible.com.cn/docs/intro.html) æœ¬èŠ‚ç¤ºä¾‹æ–‡ä»¶ æå–ç ï¼š1234 (https://pan.baidu.com/s/1fkosURl4HaYZALtSjKvcKg) ä¸€ã€ansible AD-Hoc Ansibe AD-Hoc ä¸´æ—¶å‘½ä»¤æ‰§è¡Œå·¥å…·ï¼Œå¸¸ç”¨äºä¸´æ—¶å‘½ä»¤çš„æ‰§è¡Œ ä¹Ÿå¯ä»¥é€šè¿‡an...">
    <style>
      :root {
        --bg-color: #fff;
      }

      html[data-theme="dark"] {
        --bg-color: #1d1e1f;
      }

      html,
      body {
        background: var(--bg-color);
      }
    </style>
    <script>
      const userMode = localStorage.getItem("vuepress-theme-hope-scheme");
      const systemDarkMode =
        window.matchMedia &&
        window.matchMedia("(prefers-color-scheme: dark)").matches;

      if (userMode === "dark" || (userMode !== "light" && systemDarkMode)) {
        document.querySelector("html").setAttribute("data-theme", "dark");
      }
    </script>
    <link rel="preload" href="/assets/style-41a36a5c.css" as="style"><link rel="stylesheet" href="/assets/style-41a36a5c.css">
    <link rel="modulepreload" href="/assets/app-30d3d221.js"><link rel="modulepreload" href="/assets/framework-ed4f969a.js"><link rel="modulepreload" href="/assets/ansible.html-8b8cb10f.js"><link rel="modulepreload" href="/assets/ansible.html-83ba8518.js">
  </head>
  <body>
    <div id="app"><!--[--><!--[--><!--[--><span tabindex="-1"></span><a href="#main-content" class="skip-link sr-only">è·³è‡³ä¸»è¦å…§å®¹</a><!--]--><!--[--><div class="theme-container has-toc"><!--[--><header class="navbar"><div class="navbar-left"><button class="toggle-sidebar-button" title="Toggle Sidebar"><span class="icon"></span></button><!--[--><!----><!--]--><a href="/" class="brand"><img class="logo" src="/logo.png" alt="topjf"><!----><span class="site-name hide-in-pad">topjf</span></a><!--[--><!----><!--]--></div><div class="navbar-center"><!--[--><!----><!--]--><nav class="nav-links"><div class="nav-item hide-in-mobile"><a href="/" class="nav-link" aria-label="é¦–é¡µ"><span class="font-icon icon iconfont icon-home" style=""></span>é¦–é¡µ<!----></a></div><div class="nav-item hide-in-mobile"><a href="/home.html" class="nav-link" aria-label="å¿«é€Ÿå¯¼èˆª"><span class="font-icon icon iconfont icon-arrow" style=""></span>å¿«é€Ÿå¯¼èˆª<!----></a></div><div class="nav-item hide-in-mobile"><a href="/all/all.html" class="nav-link" aria-label="é¢è¯•å®å…¸"><span class="font-icon icon iconfont icon-overflow" style=""></span>é¢è¯•å®å…¸<!----></a></div><div class="nav-item hide-in-mobile"><div class="dropdown-wrapper"><button class="dropdown-title" type="button" aria-label="ä¸ªäººä¸­å¿ƒ"><span class="title"><span class="font-icon icon iconfont icon-anonymous" style=""></span>ä¸ªäººä¸­å¿ƒ</span><span class="arrow"></span><ul class="nav-dropdown"><li class="dropdown-item"><a href="/article" class="nav-link" aria-label="æ–‡ç« "><span class="font-icon icon iconfont icon-note" style=""></span>æ–‡ç« <!----></a></li><li class="dropdown-item"><a href="/category" class="nav-link" aria-label="åˆ†ç±»"><span class="font-icon icon iconfont icon-categoryselected" style=""></span>åˆ†ç±»<!----></a></li><li class="dropdown-item"><a href="/tag" class="nav-link" aria-label="æ ‡ç­¾"><span class="font-icon icon iconfont icon-list" style=""></span>æ ‡ç­¾<!----></a></li><li class="dropdown-item"><a href="/encrypted" class="nav-link" aria-label="åŠ å¯†æ–‡ç« "><span class="font-icon icon iconfont icon-command" style=""></span>åŠ å¯†æ–‡ç« <!----></a></li><li class="dropdown-item"><a href="/star" class="nav-link" aria-label="æ”¶è—æ–‡ç« "><span class="font-icon icon iconfont icon-like" style=""></span>æ”¶è—æ–‡ç« <!----></a></li><li class="dropdown-item"><a href="/timeline" class="nav-link" aria-label="æ—¶é—´çº¿"><span class="font-icon icon iconfont icon-time" style=""></span>æ—¶é—´çº¿<!----></a></li></ul></button></div></div><div class="nav-item hide-in-mobile"><div class="dropdown-wrapper"><button class="dropdown-title" type="button" aria-label="ç½‘ç«™ç›¸å…³"><span class="title"><span class="font-icon icon iconfont icon-info" style=""></span>ç½‘ç«™ç›¸å…³</span><span class="arrow"></span><ul class="nav-dropdown"><li class="dropdown-item"><a href="/about/about-this.html" class="nav-link" aria-label="å…³äºæœ¬ç«™"><span class="font-icon icon iconfont icon-people" style=""></span>å…³äºæœ¬ç«™<!----></a></li><li class="dropdown-item"><a href="/history/history.html" class="nav-link" aria-label="ç½‘ç«™å†å²"><span class="font-icon icon iconfont icon-time" style=""></span>ç½‘ç«™å†å²<!----></a></li><li class="dropdown-item"><a href="https://theme-hope.vuejs.press/zh/" rel="noopener noreferrer" target="_blank" aria-label="VuePress Theme Hope æ–‡æ¡£" class="nav-link"><span class="font-icon icon iconfont icon-creative" style=""></span>VuePress Theme Hope æ–‡æ¡£<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!----></a></li></ul></button></div></div></nav><!--[--><!----><!--]--></div><div class="navbar-right"><!--[--><!----><!--]--><!----><div class="nav-item"><a class="repo-link" href="https://github.com/topjf/topjf" target="_blank" rel="noopener noreferrer" aria-label="GitHub"><svg xmlns="http://www.w3.org/2000/svg" class="icon github-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="github icon" style="width:1.25rem;height:1.25rem;vertical-align:middle;"><path d="M511.957 21.333C241.024 21.333 21.333 240.981 21.333 512c0 216.832 140.544 400.725 335.574 465.664 24.49 4.395 32.256-10.07 32.256-23.083 0-11.69.256-44.245 0-85.205-136.448 29.61-164.736-64.64-164.736-64.64-22.315-56.704-54.4-71.765-54.4-71.765-44.587-30.464 3.285-29.824 3.285-29.824 49.195 3.413 75.179 50.517 75.179 50.517 43.776 75.008 114.816 53.333 142.762 40.79 4.523-31.66 17.152-53.377 31.19-65.537-108.971-12.458-223.488-54.485-223.488-242.602 0-53.547 19.114-97.323 50.517-131.67-5.035-12.33-21.93-62.293 4.779-129.834 0 0 41.258-13.184 134.912 50.346a469.803 469.803 0 0 1 122.88-16.554c41.642.213 83.626 5.632 122.88 16.554 93.653-63.488 134.784-50.346 134.784-50.346 26.752 67.541 9.898 117.504 4.864 129.834 31.402 34.347 50.474 78.123 50.474 131.67 0 188.586-114.73 230.016-224.042 242.09 17.578 15.232 33.578 44.672 33.578 90.454v135.85c0 13.142 7.936 27.606 32.854 22.87C862.25 912.597 1002.667 728.747 1002.667 512c0-271.019-219.648-490.667-490.71-490.667z"></path></svg></a></div><div class="nav-item hide-in-mobile"><button class="outlook-button" tabindex="-1" ariahidden="true"><svg xmlns="http://www.w3.org/2000/svg" class="icon outlook-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="outlook icon"><path d="M224 800c0 9.6 3.2 44.8 6.4 54.4 6.4 48-48 76.8-48 76.8s80 41.6 147.2 0 134.4-134.4 38.4-195.2c-22.4-12.8-41.6-19.2-57.6-19.2C259.2 716.8 227.2 761.6 224 800zM560 675.2l-32 51.2c-51.2 51.2-83.2 32-83.2 32 25.6 67.2 0 112-12.8 128 25.6 6.4 51.2 9.6 80 9.6 54.4 0 102.4-9.6 150.4-32l0 0c3.2 0 3.2-3.2 3.2-3.2 22.4-16 12.8-35.2 6.4-44.8-9.6-12.8-12.8-25.6-12.8-41.6 0-54.4 60.8-99.2 137.6-99.2 6.4 0 12.8 0 22.4 0 12.8 0 38.4 9.6 48-25.6 0-3.2 0-3.2 3.2-6.4 0-3.2 3.2-6.4 3.2-6.4 6.4-16 6.4-16 6.4-19.2 9.6-35.2 16-73.6 16-115.2 0-105.6-41.6-198.4-108.8-268.8C704 396.8 560 675.2 560 675.2zM224 419.2c0-28.8 22.4-51.2 51.2-51.2 28.8 0 51.2 22.4 51.2 51.2 0 28.8-22.4 51.2-51.2 51.2C246.4 470.4 224 448 224 419.2zM320 284.8c0-22.4 19.2-41.6 41.6-41.6 22.4 0 41.6 19.2 41.6 41.6 0 22.4-19.2 41.6-41.6 41.6C339.2 326.4 320 307.2 320 284.8zM457.6 208c0-12.8 12.8-25.6 25.6-25.6 12.8 0 25.6 12.8 25.6 25.6 0 12.8-12.8 25.6-25.6 25.6C470.4 233.6 457.6 220.8 457.6 208zM128 505.6C128 592 153.6 672 201.6 736c28.8-60.8 112-60.8 124.8-60.8-16-51.2 16-99.2 16-99.2l316.8-422.4c-48-19.2-99.2-32-150.4-32C297.6 118.4 128 291.2 128 505.6zM764.8 86.4c-22.4 19.2-390.4 518.4-390.4 518.4-22.4 28.8-12.8 76.8 22.4 99.2l9.6 6.4c35.2 22.4 80 12.8 99.2-25.6 0 0 6.4-12.8 9.6-19.2 54.4-105.6 275.2-524.8 288-553.6 6.4-19.2-3.2-32-19.2-32C777.6 76.8 771.2 80 764.8 86.4z"></path></svg><div class="outlook-dropdown"><!----></div></button></div><!--[--><button class="search-pro-button" role="search" aria-label="æœç´¢"><svg xmlns="http://www.w3.org/2000/svg" class="icon search-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="search icon"><path d="M192 480a256 256 0 1 1 512 0 256 256 0 0 1-512 0m631.776 362.496-143.2-143.168A318.464 318.464 0 0 0 768 480c0-176.736-143.264-320-320-320S128 303.264 128 480s143.264 320 320 320a318.016 318.016 0 0 0 184.16-58.592l146.336 146.368c12.512 12.48 32.768 12.48 45.28 0 12.48-12.512 12.48-32.768 0-45.28"></path></svg></button><!--]--><!--[--><!----><!--]--><button class="toggle-navbar-button" aria-label="Toggle Navbar" aria-expanded="false" aria-controls="nav-screen"><span class="button-container"><span class="button-top"></span><span class="button-middle"></span><span class="button-bottom"></span></span></button></div></header><!----><!--]--><!----><div class="toggle-sidebar-wrapper"><span class="arrow left"></span></div><aside class="sidebar"><!--[--><!----><!--]--><ul class="sidebar-links"><li><section class="sidebar-group"><p class="sidebar-heading"><span class="font-icon icon iconfont icon-object" style=""></span><span class="title">åŸºç¡€å‘½ä»¤</span><!----></p><ul class="sidebar-links"><li><!--[--><a href="/linux/basis/command.html" class="nav-link sidebar-link sidebar-page" aria-label="Linuxç¬”å‘½ä»¤å¤§å…¨"><span class="font-icon icon iconfont icon-linux" style=""></span>Linuxç¬”å‘½ä»¤å¤§å…¨<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/linux/basis/basis.html" class="nav-link sidebar-link sidebar-page" aria-label="LinuxåŸºç¡€"><span class="font-icon icon iconfont icon-linux" style=""></span>LinuxåŸºç¡€<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li></ul></section></li><li><!--[--><a href="/linux/command-examples.html" class="nav-link sidebar-link sidebar-page" aria-label="Linuxå¸¸ç”¨å‘½ä»¤å®ä¾‹"><span class="font-icon icon iconfont icon-linux" style=""></span>Linuxå¸¸ç”¨å‘½ä»¤å®ä¾‹<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/linux/exception-analysis.html" class="nav-link sidebar-link sidebar-page" aria-label="Linuxå¸¸è§å¼‚å¸¸åˆ†æ"><span class="font-icon icon iconfont icon-linux" style=""></span>Linuxå¸¸è§å¼‚å¸¸åˆ†æ<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/linux/network-setting.html" class="nav-link sidebar-link sidebar-page" aria-label="centosç½‘ç»œç½‘å¡é…ç½®"><span class="font-icon icon iconfont icon-linux" style=""></span>centosç½‘ç»œç½‘å¡é…ç½®<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/linux/disk.html" class="nav-link sidebar-link sidebar-page" aria-label="ç£ç›˜ç›¸å…³çŸ¥è¯†"><span class="font-icon icon iconfont icon-linux" style=""></span>ç£ç›˜ç›¸å…³çŸ¥è¯†<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/linux/yum-repo.html" class="nav-link sidebar-link sidebar-page" aria-label="YUM æºé…ç½®"><span class="font-icon icon iconfont icon-linux" style=""></span>YUM æºé…ç½®<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/linux/update-kernel.html" class="nav-link sidebar-link sidebar-page" aria-label="centos(kernel)å†…æ ¸å‡çº§"><span class="font-icon icon iconfont icon-linux" style=""></span>centos(kernel)å†…æ ¸å‡çº§<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/linux/jenkins.html" class="nav-link sidebar-link sidebar-page" aria-label="Jenkinsè‡ªåŠ¨åŒ–éƒ¨ç½²"><span class="font-icon icon iconfont icon-linux" style=""></span>Jenkinsè‡ªåŠ¨åŒ–éƒ¨ç½²<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><section class="sidebar-group"><p class="sidebar-heading"><span class="font-icon icon iconfont icon-tool" style=""></span><span class="title">è¿ç»´ç›‘æ§å·¥å…·</span><!----></p><ul class="sidebar-links"><li><!--[--><a href="/linux/monitoringtools/nagios.html" class="nav-link sidebar-link sidebar-page" aria-label="Nagiosç›‘æ§å¹³å°"><span class="font-icon icon iconfont icon-edit" style=""></span>Nagiosç›‘æ§å¹³å°<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/linux/monitoringtools/open-falcon.html" class="nav-link sidebar-link sidebar-page" aria-label="Open-Falconç›‘æ§å¹³å°"><span class="font-icon icon iconfont icon-edit" style=""></span>Open-Falconç›‘æ§å¹³å°<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/linux/monitoringtools/zabbix2.html" class="nav-link sidebar-link sidebar-page" aria-label="Zabbixæ¦‚è¿°ç¯‡"><span class="font-icon icon iconfont icon-edit" style=""></span>Zabbixæ¦‚è¿°ç¯‡<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/linux/monitoringtools/zabbix.html" class="nav-link sidebar-link sidebar-page" aria-label="Zabbixç›‘æ§å¹³å°å®‰è£…ç¯‡"><span class="font-icon icon iconfont icon-edit" style=""></span>Zabbixç›‘æ§å¹³å°å®‰è£…ç¯‡<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li></ul></section></li><li><section class="sidebar-group"><p class="sidebar-heading active"><span class="font-icon icon iconfont icon-tool" style=""></span><span class="title">ansibleè¿ç»´ç®¡ç†å·¥å…·</span><!----></p><ul class="sidebar-links"><li><!--[--><a aria-current="page" href="/linux/ansible/ansible.html" class="router-link-active router-link-exact-active nav-link active sidebar-link sidebar-page active" aria-label="ansible AD-Hocå‘½ä»¤æ‰§è¡Œå·¥å…·"><span class="font-icon icon iconfont icon-linux" style=""></span>ansible AD-Hocå‘½ä»¤æ‰§è¡Œå·¥å…·<!----></a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a aria-current="page" href="/linux/ansible/ansible.html#ä¸€ã€ansible-ad-hoc" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="ä¸€ã€ansible AD-Hoc"><!---->ä¸€ã€ansible AD-Hoc<!----></a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a aria-current="page" href="/linux/ansible/ansible.html#è‡ªå·±é…ç½®" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="è‡ªå·±é…ç½®"><!---->è‡ªå·±é…ç½®<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/linux/ansible/ansible.html#sshå…å¯†ç™»å½•" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="SSHå…å¯†ç™»å½•"><!---->SSHå…å¯†ç™»å½•<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/linux/ansible/ansible.html#ä¸»æœºè¿é€šæ€§æµ‹è¯•" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="ä¸»æœºè¿é€šæ€§æµ‹è¯•"><!---->ä¸»æœºè¿é€šæ€§æµ‹è¯•<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/linux/ansible/ansible.html#command-æ¨¡å—-ç›´æ¥åœ¨è¿œç¨‹ä¸»æœºä¸Šæ‰§è¡Œå‘½ä»¤-å¹¶å°†ç»“æœè¿”å›æœ¬ä¸»æœº" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="command æ¨¡å—ï¼ˆç›´æ¥åœ¨è¿œç¨‹ä¸»æœºä¸Šæ‰§è¡Œå‘½ä»¤ï¼Œå¹¶å°†ç»“æœè¿”å›æœ¬ä¸»æœºï¼‰"><!---->command æ¨¡å—ï¼ˆç›´æ¥åœ¨è¿œç¨‹ä¸»æœºä¸Šæ‰§è¡Œå‘½ä»¤ï¼Œå¹¶å°†ç»“æœè¿”å›æœ¬ä¸»æœºï¼‰<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/linux/ansible/ansible.html#shell-æ¨¡å—" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="Shell æ¨¡å—"><!---->Shell æ¨¡å—<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/linux/ansible/ansible.html#copy-æ¨¡å—" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="copy æ¨¡å—"><!---->copy æ¨¡å—<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/linux/ansible/ansible.html#file-æ¨¡å—-æ–‡ä»¶ç®¡ç†" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="file æ¨¡å—ï¼ˆæ–‡ä»¶ç®¡ç†ï¼‰"><!---->file æ¨¡å—ï¼ˆæ–‡ä»¶ç®¡ç†ï¼‰<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/linux/ansible/ansible.html#fetch-æ¨¡å—-å¤åˆ¶è¿œç¨‹æ–‡ä»¶åˆ°æœ¬åœ°ä¸»æœº" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="fetch æ¨¡å—ï¼ˆå¤åˆ¶è¿œç¨‹æ–‡ä»¶åˆ°æœ¬åœ°ä¸»æœºï¼‰"><!---->fetch æ¨¡å—ï¼ˆå¤åˆ¶è¿œç¨‹æ–‡ä»¶åˆ°æœ¬åœ°ä¸»æœºï¼‰<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/linux/ansible/ansible.html#cron-æ¨¡å—-è®¡åˆ’ä»»åŠ¡" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="cron æ¨¡å—ï¼ˆè®¡åˆ’ä»»åŠ¡ï¼‰"><!---->cron æ¨¡å—ï¼ˆè®¡åˆ’ä»»åŠ¡ï¼‰<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/linux/ansible/ansible.html#yum-æ¨¡å—-ç”¨äºè½¯ä»¶çš„å®‰è£…" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="yum æ¨¡å—ï¼ˆç”¨äºè½¯ä»¶çš„å®‰è£…ï¼‰"><!---->yum æ¨¡å—ï¼ˆç”¨äºè½¯ä»¶çš„å®‰è£…ï¼‰<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/linux/ansible/ansible.html#service-æ¨¡å—-æœåŠ¡ç¨‹åºçš„ç®¡ç†" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="service æ¨¡å—ï¼ˆæœåŠ¡ç¨‹åºçš„ç®¡ç†ï¼‰"><!---->service æ¨¡å—ï¼ˆæœåŠ¡ç¨‹åºçš„ç®¡ç†ï¼‰<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/linux/ansible/ansible.html#user-æ¨¡å—-ç®¡ç†ç”¨æˆ·è´¦å·" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="user æ¨¡å—ï¼ˆç®¡ç†ç”¨æˆ·è´¦å·ï¼‰"><!---->user æ¨¡å—ï¼ˆç®¡ç†ç”¨æˆ·è´¦å·ï¼‰<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/linux/ansible/ansible.html#group-æ¨¡å—-æ·»åŠ æˆ–åˆ é™¤ç»„" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="group æ¨¡å—ï¼ˆæ·»åŠ æˆ–åˆ é™¤ç»„ï¼‰"><!---->group æ¨¡å—ï¼ˆæ·»åŠ æˆ–åˆ é™¤ç»„ï¼‰<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/linux/ansible/ansible.html#script-æ¨¡å—-å°†æœ¬æœºçš„è„šæœ¬shåœ¨è¢«ç®¡ç†ç«¯çš„æœºå™¨ä¸Šè¿è¡Œ" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="script æ¨¡å—ï¼ˆå°†æœ¬æœºçš„è„šæœ¬shåœ¨è¢«ç®¡ç†ç«¯çš„æœºå™¨ä¸Šè¿è¡Œï¼‰"><!---->script æ¨¡å—ï¼ˆå°†æœ¬æœºçš„è„šæœ¬shåœ¨è¢«ç®¡ç†ç«¯çš„æœºå™¨ä¸Šè¿è¡Œï¼‰<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/linux/ansible/ansible.html#setup-æ¨¡å—-æ”¶é›†è¢«ç®¡ç†ä¸»æœºçš„ä¿¡æ¯" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="setup æ¨¡å—ï¼ˆæ”¶é›†è¢«ç®¡ç†ä¸»æœºçš„ä¿¡æ¯ï¼‰"><!---->setup æ¨¡å—ï¼ˆæ”¶é›†è¢«ç®¡ç†ä¸»æœºçš„ä¿¡æ¯ï¼‰<!----></a><ul class="sidebar-sub-headers"></ul></li></ul></li></ul><!--]--></li><li><!--[--><a href="/linux/ansible/ansible-doc.html" class="nav-link sidebar-link sidebar-page" aria-label="ansible-docæ¨¡å—åŠŸèƒ½æŸ¥çœ‹å·¥å…·"><span class="font-icon icon iconfont icon-linux" style=""></span>ansible-docæ¨¡å—åŠŸèƒ½æŸ¥çœ‹å·¥å…·<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/linux/ansible/ansible-galaxy.html" class="nav-link sidebar-link sidebar-page" aria-label="ansible-galaxy"><span class="font-icon icon iconfont icon-linux" style=""></span>ansible-galaxy<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/linux/ansible/ansible-playbook.html" class="nav-link sidebar-link sidebar-page" aria-label="ansible-playbookä»»åŠ¡ç¼–æ’å·¥å…·ï¼ˆå‰§æœ¬ï¼‰"><span class="font-icon icon iconfont icon-linux" style=""></span>ansible-playbookä»»åŠ¡ç¼–æ’å·¥å…·ï¼ˆå‰§æœ¬ï¼‰<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/linux/ansible/ansible-docker.html" class="nav-link sidebar-link sidebar-page" aria-label="ansibleå®‰è£…docker"><span class="font-icon icon iconfont icon-linux" style=""></span>ansibleå®‰è£…docker<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/linux/ansible/ansible-jdk.html" class="nav-link sidebar-link sidebar-page" aria-label="ansibleå®‰è£…jdk"><span class="font-icon icon iconfont icon-linux" style=""></span>ansibleå®‰è£…jdk<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/linux/ansible/ansible-mysql.html" class="nav-link sidebar-link sidebar-page" aria-label="ansibleå®‰è£…mysql"><span class="font-icon icon iconfont icon-linux" style=""></span>ansibleå®‰è£…mysql<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/linux/ansible/ansible-nginx.html" class="nav-link sidebar-link sidebar-page" aria-label="ansibleå®‰è£…nginx"><span class="font-icon icon iconfont icon-linux" style=""></span>ansibleå®‰è£…nginx<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/linux/ansible/ansible-redis.html" class="nav-link sidebar-link sidebar-page" aria-label="ansibleå®‰è£…Redis"><span class="font-icon icon iconfont icon-linux" style=""></span>ansibleå®‰è£…Redis<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/linux/ansible/ansible-basis.html" class="nav-link sidebar-link sidebar-page" aria-label="ansibleå®‰è£…ä¸åŸºç¡€æ¦‚å¿µ"><span class="font-icon icon iconfont icon-linux" style=""></span>ansibleå®‰è£…ä¸åŸºç¡€æ¦‚å¿µ<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li></ul></section></li><li><!--[--><a href="/linux/shell.html" class="nav-link sidebar-link sidebar-page" aria-label="Shell è„šæœ¬ç¼–ç¨‹"><span class="font-icon icon iconfont icon-linux" style=""></span>Shell è„šæœ¬ç¼–ç¨‹<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li></ul><!--[--><!----><!--]--></aside><!--[--><main class="page" id="main-content"><!--[--><!----><nav class="breadcrumb disable"></nav><div class="page-title"><h1><span class="font-icon icon iconfont icon-linux" style=""></span>ansible AD-Hocå‘½ä»¤æ‰§è¡Œå·¥å…·</h1><div class="page-info"><span class="page-author-info" aria-label="ä½œè€…ğŸ–Š" data-balloon-pos="down"><svg xmlns="http://www.w3.org/2000/svg" class="icon author-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="author icon"><path d="M649.6 633.6c86.4-48 147.2-144 147.2-249.6 0-160-128-288-288-288s-288 128-288 288c0 108.8 57.6 201.6 147.2 249.6-121.6 48-214.4 153.6-240 288-3.2 9.6 0 19.2 6.4 25.6 3.2 9.6 12.8 12.8 22.4 12.8h704c9.6 0 19.2-3.2 25.6-12.8 6.4-6.4 9.6-16 6.4-25.6-25.6-134.4-121.6-240-243.2-288z"></path></svg><span><a class="page-author-item" href="/article" target="_blank" rel="noopener noreferrer">topjf</a></span><span property="author" content="topjf"></span></span><span class="page-category-info" aria-label="åˆ†ç±»ğŸŒˆ" data-balloon-pos="down"><svg xmlns="http://www.w3.org/2000/svg" class="icon category-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="category icon"><path d="M148.41 106.992h282.176c22.263 0 40.31 18.048 40.31 40.31V429.48c0 22.263-18.047 40.31-40.31 40.31H148.41c-22.263 0-40.311-18.047-40.311-40.31V147.302c0-22.263 18.048-40.31 40.311-40.31zM147.556 553.478H429.73c22.263 0 40.311 18.048 40.311 40.31v282.176c0 22.263-18.048 40.312-40.31 40.312H147.555c-22.263 0-40.311-18.049-40.311-40.312V593.79c0-22.263 18.048-40.311 40.31-40.311zM593.927 106.992h282.176c22.263 0 40.31 18.048 40.31 40.31V429.48c0 22.263-18.047 40.31-40.31 40.31H593.927c-22.263 0-40.311-18.047-40.311-40.31V147.302c0-22.263 18.048-40.31 40.31-40.31zM730.22 920.502H623.926c-40.925 0-74.22-33.388-74.22-74.425V623.992c0-41.038 33.387-74.424 74.425-74.424h222.085c41.038 0 74.424 33.226 74.424 74.067v114.233c0 10.244-8.304 18.548-18.547 18.548s-18.548-8.304-18.548-18.548V623.635c0-20.388-16.746-36.974-37.33-36.974H624.13c-20.585 0-37.331 16.747-37.331 37.33v222.086c0 20.585 16.654 37.331 37.126 37.331H730.22c10.243 0 18.547 8.304 18.547 18.547 0 10.244-8.304 18.547-18.547 18.547z"></path></svg><span class="page-category-item category0 clickable" role="navigation">Linux</span><meta property="articleSection" content="Linux"></span><span class="page-tag-info" aria-label="æ ‡ç­¾ğŸ·" data-balloon-pos="down"><svg xmlns="http://www.w3.org/2000/svg" class="icon tag-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="tag icon"><path d="M939.902 458.563L910.17 144.567c-1.507-16.272-14.465-29.13-30.737-30.737L565.438 84.098h-.402c-3.215 0-5.726 1.005-7.634 2.913l-470.39 470.39a10.004 10.004 0 000 14.164l365.423 365.424c1.909 1.908 4.42 2.913 7.132 2.913s5.223-1.005 7.132-2.913l470.39-470.39c2.01-2.11 3.014-5.023 2.813-8.036zm-240.067-72.121c-35.458 0-64.286-28.828-64.286-64.286s28.828-64.285 64.286-64.285 64.286 28.828 64.286 64.285-28.829 64.286-64.286 64.286z"></path></svg><span class="page-tag-item tag4 clickable" role="navigation">ansible</span><meta property="keywords" content="ansible"></span><span class="page-date-info" aria-label="å†™ä½œæ—¥æœŸğŸ“…" data-balloon-pos="down"><svg xmlns="http://www.w3.org/2000/svg" class="icon calendar-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="calendar icon"><path d="M716.4 110.137c0-18.753-14.72-33.473-33.472-33.473-18.753 0-33.473 14.72-33.473 33.473v33.473h66.993v-33.473zm-334.87 0c0-18.753-14.72-33.473-33.473-33.473s-33.52 14.72-33.52 33.473v33.473h66.993v-33.473zm468.81 33.52H716.4v100.465c0 18.753-14.72 33.473-33.472 33.473a33.145 33.145 0 01-33.473-33.473V143.657H381.53v100.465c0 18.753-14.72 33.473-33.473 33.473a33.145 33.145 0 01-33.473-33.473V143.657H180.6A134.314 134.314 0 0046.66 277.595v535.756A134.314 134.314 0 00180.6 947.289h669.74a134.36 134.36 0 00133.94-133.938V277.595a134.314 134.314 0 00-133.94-133.938zm33.473 267.877H147.126a33.145 33.145 0 01-33.473-33.473c0-18.752 14.72-33.473 33.473-33.473h736.687c18.752 0 33.472 14.72 33.472 33.473a33.145 33.145 0 01-33.472 33.473z"></path></svg><span><!----></span><meta property="datePublished" content="2022-07-29T00:00:00.000Z"></span><!----><span class="page-word-info" aria-label="å­—æ•°ğŸ” " data-balloon-pos="down"><svg xmlns="http://www.w3.org/2000/svg" class="icon word-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="word icon"><path d="M518.217 432.64V73.143A73.143 73.143 0 01603.43 1.097a512 512 0 01419.474 419.474 73.143 73.143 0 01-72.046 85.212H591.36a73.143 73.143 0 01-73.143-73.143z"></path><path d="M493.714 566.857h340.297a73.143 73.143 0 0173.143 85.577A457.143 457.143 0 11371.566 117.76a73.143 73.143 0 0185.577 73.143v339.383a36.571 36.571 0 0036.571 36.571z"></path></svg><span>çº¦ 5533 å­—</span><meta property="wordCount" content="5533"></span><!----><span class="page-reading-time-info" aria-label="é˜…è¯»æ—¶é—´âŒ›" data-balloon-pos="down"><svg xmlns="http://www.w3.org/2000/svg" class="icon timer-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="timer icon"><path d="M799.387 122.15c4.402-2.978 7.38-7.897 7.38-13.463v-1.165c0-8.933-7.38-16.312-16.312-16.312H256.33c-8.933 0-16.311 7.38-16.311 16.312v1.165c0 5.825 2.977 10.874 7.637 13.592 4.143 194.44 97.22 354.963 220.201 392.763-122.204 37.542-214.893 196.511-220.2 389.397-4.661 5.049-7.638 11.651-7.638 19.03v5.825h566.49v-5.825c0-7.379-2.849-13.981-7.509-18.9-5.049-193.016-97.867-351.985-220.2-389.527 123.24-37.67 216.446-198.453 220.588-392.892zM531.16 450.445v352.632c117.674 1.553 211.787 40.778 211.787 88.676H304.097c0-48.286 95.149-87.382 213.728-88.676V450.445c-93.077-3.107-167.901-81.297-167.901-177.093 0-8.803 6.99-15.793 15.793-15.793 8.803 0 15.794 6.99 15.794 15.793 0 80.261 63.69 145.635 142.01 145.635s142.011-65.374 142.011-145.635c0-8.803 6.99-15.793 15.794-15.793s15.793 6.99 15.793 15.793c0 95.019-73.789 172.82-165.96 177.093z"></path></svg><span>å¤§çº¦ 18 åˆ†é’Ÿ</span><meta property="timeRequired" content="PT18M"></span></div><hr></div><div class="toc-place-holder"><aside id="toc"><div class="toc-header">æ­¤é¡µå†…å®¹<!----></div><div class="toc-wrapper"><ul class="toc-list"><!--[--><li class="toc-item"><a aria-current="page" href="/linux/ansible/ansible.html#ä¸€ã€ansible-ad-hoc" class="router-link-active router-link-exact-active toc-link level2">ä¸€ã€ansible AD-Hoc</a></li><ul class="toc-list"><!--[--><li class="toc-item"><a aria-current="page" href="/linux/ansible/ansible.html#è‡ªå·±é…ç½®" class="router-link-active router-link-exact-active toc-link level3">è‡ªå·±é…ç½®</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/linux/ansible/ansible.html#sshå…å¯†ç™»å½•" class="router-link-active router-link-exact-active toc-link level3">SSHå…å¯†ç™»å½•</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/linux/ansible/ansible.html#ä¸»æœºè¿é€šæ€§æµ‹è¯•" class="router-link-active router-link-exact-active toc-link level3">ä¸»æœºè¿é€šæ€§æµ‹è¯•</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/linux/ansible/ansible.html#command-æ¨¡å—-ç›´æ¥åœ¨è¿œç¨‹ä¸»æœºä¸Šæ‰§è¡Œå‘½ä»¤-å¹¶å°†ç»“æœè¿”å›æœ¬ä¸»æœº" class="router-link-active router-link-exact-active toc-link level3">command æ¨¡å—ï¼ˆç›´æ¥åœ¨è¿œç¨‹ä¸»æœºä¸Šæ‰§è¡Œå‘½ä»¤ï¼Œå¹¶å°†ç»“æœè¿”å›æœ¬ä¸»æœºï¼‰</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/linux/ansible/ansible.html#shell-æ¨¡å—" class="router-link-active router-link-exact-active toc-link level3">Shell æ¨¡å—</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/linux/ansible/ansible.html#copy-æ¨¡å—" class="router-link-active router-link-exact-active toc-link level3">copy æ¨¡å—</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/linux/ansible/ansible.html#file-æ¨¡å—-æ–‡ä»¶ç®¡ç†" class="router-link-active router-link-exact-active toc-link level3">file æ¨¡å—ï¼ˆæ–‡ä»¶ç®¡ç†ï¼‰</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/linux/ansible/ansible.html#fetch-æ¨¡å—-å¤åˆ¶è¿œç¨‹æ–‡ä»¶åˆ°æœ¬åœ°ä¸»æœº" class="router-link-active router-link-exact-active toc-link level3">fetch æ¨¡å—ï¼ˆå¤åˆ¶è¿œç¨‹æ–‡ä»¶åˆ°æœ¬åœ°ä¸»æœºï¼‰</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/linux/ansible/ansible.html#cron-æ¨¡å—-è®¡åˆ’ä»»åŠ¡" class="router-link-active router-link-exact-active toc-link level3">cron æ¨¡å—ï¼ˆè®¡åˆ’ä»»åŠ¡ï¼‰</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/linux/ansible/ansible.html#yum-æ¨¡å—-ç”¨äºè½¯ä»¶çš„å®‰è£…" class="router-link-active router-link-exact-active toc-link level3">yum æ¨¡å—ï¼ˆç”¨äºè½¯ä»¶çš„å®‰è£…ï¼‰</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/linux/ansible/ansible.html#service-æ¨¡å—-æœåŠ¡ç¨‹åºçš„ç®¡ç†" class="router-link-active router-link-exact-active toc-link level3">service æ¨¡å—ï¼ˆæœåŠ¡ç¨‹åºçš„ç®¡ç†ï¼‰</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/linux/ansible/ansible.html#user-æ¨¡å—-ç®¡ç†ç”¨æˆ·è´¦å·" class="router-link-active router-link-exact-active toc-link level3">user æ¨¡å—ï¼ˆç®¡ç†ç”¨æˆ·è´¦å·ï¼‰</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/linux/ansible/ansible.html#group-æ¨¡å—-æ·»åŠ æˆ–åˆ é™¤ç»„" class="router-link-active router-link-exact-active toc-link level3">group æ¨¡å—ï¼ˆæ·»åŠ æˆ–åˆ é™¤ç»„ï¼‰</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/linux/ansible/ansible.html#script-æ¨¡å—-å°†æœ¬æœºçš„è„šæœ¬shåœ¨è¢«ç®¡ç†ç«¯çš„æœºå™¨ä¸Šè¿è¡Œ" class="router-link-active router-link-exact-active toc-link level3">script æ¨¡å—ï¼ˆå°†æœ¬æœºçš„è„šæœ¬shåœ¨è¢«ç®¡ç†ç«¯çš„æœºå™¨ä¸Šè¿è¡Œï¼‰</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/linux/ansible/ansible.html#setup-æ¨¡å—-æ”¶é›†è¢«ç®¡ç†ä¸»æœºçš„ä¿¡æ¯" class="router-link-active router-link-exact-active toc-link level3">setup æ¨¡å—ï¼ˆæ”¶é›†è¢«ç®¡ç†ä¸»æœºçš„ä¿¡æ¯ï¼‰</a></li><!----><!--]--></ul><!--]--></ul></div></aside></div><!----><div class="theme-hope-content"><!-- more --><h1>ansible AD-Hocå‘½ä»¤æ‰§è¡Œå·¥å…·</h1><p><a href="http://ansible.com.cn/docs/intro.html" target="_blank" rel="noopener noreferrer">ansible ä¸­æ–‡æŒ‡å—<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></p><p><a href="https://pan.baidu.com/s/1fkosURl4HaYZALtSjKvcKg" target="_blank" rel="noopener noreferrer">æœ¬èŠ‚ç¤ºä¾‹æ–‡ä»¶ æå–ç ï¼š1234<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></p><h2 id="ä¸€ã€ansible-ad-hoc" tabindex="-1"><a class="header-anchor" href="#ä¸€ã€ansible-ad-hoc" aria-hidden="true">#</a> ä¸€ã€ansible AD-Hoc</h2><p>Ansibe AD-Hoc ä¸´æ—¶å‘½ä»¤æ‰§è¡Œå·¥å…·ï¼Œå¸¸ç”¨äºä¸´æ—¶å‘½ä»¤çš„æ‰§è¡Œ</p><div class="language-css line-numbers-mode" data-ext="css"><pre class="language-css"><code>ansible &lt;host-pattern&gt; [-f forks] [-m module_name] [-a args]
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>ä¹Ÿå¯ä»¥é€šè¿‡<code>ansible -h</code>æ¥æŸ¥çœ‹å¸®åŠ©ï¼Œä¸‹é¢æˆ‘ä»¬åˆ—å‡ºä¸€äº›æ¯”è¾ƒå¸¸ç”¨çš„é€‰é¡¹ï¼Œå¹¶è§£é‡Šå…¶å«ä¹‰ï¼š</p><blockquote><p><code>-a MODULE_ARGS</code>ã€€ã€€ã€€#æ¨¡å—çš„å‚æ•°ï¼Œå¦‚æœæ‰§è¡Œé»˜è®¤COMMANDçš„æ¨¡å—ï¼Œå³æ˜¯å‘½ä»¤å‚æ•°ï¼Œå¦‚ï¼š â€œdateâ€ï¼Œâ€œpwdâ€ç­‰ç­‰</p><p><code>-k</code>ï¼Œ<code>--ask-pass</code> #ask for SSH passwordã€‚ç™»å½•å¯†ç ï¼Œæç¤ºè¾“å…¥SSHå¯†ç è€Œä¸æ˜¯å‡è®¾åŸºäºå¯†é’¥çš„éªŒè¯</p><p><code>--ask-su-pass</code> #ask for su passwordã€‚suåˆ‡æ¢å¯†ç </p><p><code>-K</code>ï¼Œ<code>--ask-sudo-pass</code> #ask for sudo passwordã€‚æç¤ºå¯†ç ä½¿ç”¨sudoï¼Œsudoè¡¨ç¤ºææƒæ“ä½œ</p><p><code>--ask-vault-pass</code> #ask for vault passwordã€‚å‡è®¾æˆ‘ä»¬è®¾å®šäº†åŠ å¯†çš„å¯†ç ï¼Œåˆ™ç”¨è¯¥é€‰é¡¹è¿›è¡Œè®¿é—®</p><p><code>-B SECONDS</code> #åå°è¿è¡Œè¶…æ—¶æ—¶é—´</p><p><code>-C</code> #æ¨¡æ‹Ÿè¿è¡Œç¯å¢ƒå¹¶è¿›è¡Œé¢„è¿è¡Œï¼Œå¯ä»¥è¿›è¡ŒæŸ¥é”™æµ‹è¯•</p><p><code>-c CONNECTION</code> #è¿æ¥ç±»å‹ä½¿ç”¨</p><p><code>-f FORKS</code> #å¹¶è¡Œä»»åŠ¡æ•°ï¼Œé»˜è®¤ä¸º5</p><p><code>-i INVENTORY</code> #æŒ‡å®šä¸»æœºæ¸…å•çš„è·¯å¾„ï¼Œé»˜è®¤ä¸º`/etc/ansible/hosts``</p><p>``--list-hosts` #æŸ¥çœ‹æœ‰å“ªäº›ä¸»æœºç»„</p><p><code>-m MODULE_NAME</code> #æ‰§è¡Œæ¨¡å—çš„åå­—ï¼Œé»˜è®¤ä½¿ç”¨ command æ¨¡å—ï¼Œæ‰€ä»¥å¦‚æœæ˜¯åªæ‰§è¡Œå•ä¸€å‘½ä»¤å¯ä»¥ä¸ç”¨ -må‚æ•°</p><p><code>-o</code> #å‹ç¼©è¾“å‡ºï¼Œå°è¯•å°†æ‰€æœ‰ç»“æœåœ¨ä¸€è¡Œè¾“å‡ºï¼Œä¸€èˆ¬é’ˆå¯¹æ”¶é›†å·¥å…·ä½¿ç”¨</p><p><code>-S</code> #ç”¨ su å‘½ä»¤</p><p><code>-R SU_USER</code> #æŒ‡å®š su çš„ç”¨æˆ·ï¼Œé»˜è®¤ä¸º root ç”¨æˆ·</p><p><code>-s</code> #ç”¨ sudo å‘½ä»¤</p><p><code>-U SUDO_USER</code> #æŒ‡å®š sudo åˆ°å“ªä¸ªç”¨æˆ·ï¼Œé»˜è®¤ä¸º root ç”¨æˆ·</p><p><code>-T TIMEOUT</code> #æŒ‡å®š ssh é»˜è®¤è¶…æ—¶æ—¶é—´ï¼Œé»˜è®¤ä¸º10sï¼Œä¹Ÿå¯åœ¨é…ç½®æ–‡ä»¶ä¸­ä¿®æ”¹</p><p><code>-u REMOTE_USER</code> #è¿œç¨‹ç”¨æˆ·ï¼Œé»˜è®¤ä¸º root ç”¨æˆ·</p></blockquote><h3 id="è‡ªå·±é…ç½®" tabindex="-1"><a class="header-anchor" href="#è‡ªå·±é…ç½®" aria-hidden="true">#</a> è‡ªå·±é…ç½®</h3><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code># è‡ªå®šä¹‰ä¸»æœºä¸ç»„
[web]
192.168.0.[8:10]
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>ä¸»æœºè¿é€šæ€§æµ‹è¯•ï¼šansible web -m ping</p><p>ä¼šå‡ºç°pingä¸é€š</p><p><img src="/assets/true-image-20220728130527266-3b980427.png" alt=""></p><h3 id="sshå…å¯†ç™»å½•" tabindex="-1"><a class="header-anchor" href="#sshå…å¯†ç™»å½•" aria-hidden="true">#</a> SSHå…å¯†ç™»å½•</h3><p>å‚è€ƒï¼š<a href="https://blog.csdn.net/qq_42476834/article/details/124766896" target="_blank" rel="noopener noreferrer">https://blog.csdn.net/qq_42476834/article/details/124766896<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token comment">#1.ç”Ÿæˆç§é’¥(ä¸»-è¢«æ§åˆ¶ç«¯æœ€å¥½éƒ½è¦ç”Ÿæˆ)</span>
<span class="token punctuation">[</span>root@admin ~<span class="token punctuation">]</span><span class="token comment"># ssh-keygen -t rsa</span>
<span class="token comment">#2.å‘ä¸»æœºåˆ†å‘ç§é’¥</span>
<span class="token punctuation">[</span>root@admin ~<span class="token punctuation">]</span><span class="token comment"># ssh-copy-id root@192.168.0.8	ssh-copy-id a@192.168.0.8</span>
<span class="token punctuation">[</span>root@admin ~<span class="token punctuation">]</span><span class="token comment"># ssh-copy-id root@192.168.0.9	ssh-copy-id a@192.168.0.9</span>
<span class="token punctuation">[</span>root@admin ~<span class="token punctuation">]</span><span class="token comment"># ssh-copy-id root@192.168.0.10	ssh-copy-id a@192.168.0.10</span>

æ ¡éªŒï¼š
<span class="token function">ssh</span> root@192.168.0.8 		<span class="token function">ssh</span> a@192.168.0.8
<span class="token function">ssh</span> root@192.168.0.9 		<span class="token function">ssh</span> a@192.168.0.9
<span class="token function">ssh</span> root@192.168.0.10 		<span class="token function">ssh</span> a@192.168.0.10
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>æŸ¥çœ‹192.168.0.8ç”¨æˆ·sshç›®å½• authorized_keys</p><blockquote><p>ssh-rsa xxx/ph8H3i2mKHscP root@admin</p></blockquote><p>æˆ–è€…æ˜¯åœ¨æ¸…å•ä¸­è®¾ç½®sshç™»å½•</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token punctuation">[</span>web<span class="token punctuation">]</span>
<span class="token number">192.168</span>.0.8 <span class="token assign-left variable">ansible_port</span><span class="token operator">=</span><span class="token number">22</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="ä¸»æœºè¿é€šæ€§æµ‹è¯•" tabindex="-1"><a class="header-anchor" href="#ä¸»æœºè¿é€šæ€§æµ‹è¯•" aria-hidden="true">#</a> ä¸»æœºè¿é€šæ€§æµ‹è¯•</h3><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token punctuation">[</span>root@admin ansible<span class="token punctuation">]</span><span class="token comment"># ansible web -m ping</span>
<span class="token number">192.168</span>.0.8 <span class="token operator">|</span> SUCCESS <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token punctuation">{</span>
    <span class="token string">&quot;ansible_facts&quot;</span><span class="token builtin class-name">:</span> <span class="token punctuation">{</span>
        <span class="token string">&quot;discovered_interpreter_python&quot;</span><span class="token builtin class-name">:</span> <span class="token string">&quot;/usr/bin/python&quot;</span>
    <span class="token punctuation">}</span>,
    <span class="token string">&quot;changed&quot;</span><span class="token builtin class-name">:</span> false,
    <span class="token string">&quot;ping&quot;</span><span class="token builtin class-name">:</span> <span class="token string">&quot;pong&quot;</span>
<span class="token punctuation">}</span>
<span class="token number">192.168</span>.0.10 <span class="token operator">|</span> SUCCESS <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token punctuation">{</span>
    <span class="token string">&quot;ansible_facts&quot;</span><span class="token builtin class-name">:</span> <span class="token punctuation">{</span>
        <span class="token string">&quot;discovered_interpreter_python&quot;</span><span class="token builtin class-name">:</span> <span class="token string">&quot;/usr/bin/python&quot;</span>
    <span class="token punctuation">}</span>,
    <span class="token string">&quot;changed&quot;</span><span class="token builtin class-name">:</span> false,
    <span class="token string">&quot;ping&quot;</span><span class="token builtin class-name">:</span> <span class="token string">&quot;pong&quot;</span>
<span class="token punctuation">}</span>
<span class="token number">192.168</span>.0.9 <span class="token operator">|</span> SUCCESS <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token punctuation">{</span>
    <span class="token string">&quot;ansible_facts&quot;</span><span class="token builtin class-name">:</span> <span class="token punctuation">{</span>
        <span class="token string">&quot;discovered_interpreter_python&quot;</span><span class="token builtin class-name">:</span> <span class="token string">&quot;/usr/bin/python&quot;</span>
    <span class="token punctuation">}</span>,
    <span class="token string">&quot;changed&quot;</span><span class="token builtin class-name">:</span> false,
    <span class="token string">&quot;ping&quot;</span><span class="token builtin class-name">:</span> <span class="token string">&quot;pong&quot;</span>
<span class="token punctuation">}</span>

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="command-æ¨¡å—-ç›´æ¥åœ¨è¿œç¨‹ä¸»æœºä¸Šæ‰§è¡Œå‘½ä»¤-å¹¶å°†ç»“æœè¿”å›æœ¬ä¸»æœº" tabindex="-1"><a class="header-anchor" href="#command-æ¨¡å—-ç›´æ¥åœ¨è¿œç¨‹ä¸»æœºä¸Šæ‰§è¡Œå‘½ä»¤-å¹¶å°†ç»“æœè¿”å›æœ¬ä¸»æœº" aria-hidden="true">#</a> command æ¨¡å—ï¼ˆç›´æ¥åœ¨è¿œç¨‹ä¸»æœºä¸Šæ‰§è¡Œå‘½ä»¤ï¼Œå¹¶å°†ç»“æœè¿”å›æœ¬ä¸»æœºï¼‰</h3><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token punctuation">[</span>root@admin ansible<span class="token punctuation">]</span><span class="token comment"># ansible web -m command -a &#39;ss -ntl&#39;</span>
<span class="token number">192.168</span>.0.8 <span class="token operator">|</span> CHANGED <span class="token operator">|</span> <span class="token assign-left variable">rc</span><span class="token operator">=</span><span class="token number">0</span> <span class="token operator">&gt;&gt;</span>
State      Recv-Q Send-Q Local Address:Port               Peer Address:Port
LISTEN     <span class="token number">0</span>      <span class="token number">100</span>    <span class="token number">127.0</span>.0.1:25                       *:*
LISTEN     <span class="token number">0</span>      <span class="token number">128</span>          *:111                      *:*
LISTEN     <span class="token number">0</span>      <span class="token number">128</span>          *:22                       *:*
LISTEN     <span class="token number">0</span>      <span class="token number">100</span>      <span class="token punctuation">[</span>::1<span class="token punctuation">]</span>:25                    <span class="token punctuation">[</span>::<span class="token punctuation">]</span>:*
LISTEN     <span class="token number">0</span>      <span class="token number">128</span>       <span class="token punctuation">[</span>::<span class="token punctuation">]</span>:111                   <span class="token punctuation">[</span>::<span class="token punctuation">]</span>:*
LISTEN     <span class="token number">0</span>      <span class="token number">128</span>       <span class="token punctuation">[</span>::<span class="token punctuation">]</span>:22                    <span class="token punctuation">[</span>::<span class="token punctuation">]</span>:*
<span class="token number">192.168</span>.0.10 <span class="token operator">|</span> CHANGED <span class="token operator">|</span> <span class="token assign-left variable">rc</span><span class="token operator">=</span><span class="token number">0</span> <span class="token operator">&gt;&gt;</span>
State      Recv-Q Send-Q Local Address:Port               Peer Address:Port
LISTEN     <span class="token number">0</span>      <span class="token number">100</span>    <span class="token number">127.0</span>.0.1:25                       *:*
LISTEN     <span class="token number">0</span>      <span class="token number">128</span>          *:111                      *:*
LISTEN     <span class="token number">0</span>      <span class="token number">128</span>          *:22                       *:*
LISTEN     <span class="token number">0</span>      <span class="token number">100</span>      <span class="token punctuation">[</span>::1<span class="token punctuation">]</span>:25                    <span class="token punctuation">[</span>::<span class="token punctuation">]</span>:*
LISTEN     <span class="token number">0</span>      <span class="token number">128</span>       <span class="token punctuation">[</span>::<span class="token punctuation">]</span>:111                   <span class="token punctuation">[</span>::<span class="token punctuation">]</span>:*
LISTEN     <span class="token number">0</span>      <span class="token number">128</span>       <span class="token punctuation">[</span>::<span class="token punctuation">]</span>:22                    <span class="token punctuation">[</span>::<span class="token punctuation">]</span>:*
<span class="token number">192.168</span>.0.9 <span class="token operator">|</span> CHANGED <span class="token operator">|</span> <span class="token assign-left variable">rc</span><span class="token operator">=</span><span class="token number">0</span> <span class="token operator">&gt;&gt;</span>
State      Recv-Q Send-Q Local Address:Port               Peer Address:Port
LISTEN     <span class="token number">0</span>      <span class="token number">128</span>          *:22                       *:*
LISTEN     <span class="token number">0</span>      <span class="token number">100</span>    <span class="token number">127.0</span>.0.1:25                       *:*
LISTEN     <span class="token number">0</span>      <span class="token number">128</span>          *:111                      *:*
LISTEN     <span class="token number">0</span>      <span class="token number">128</span>       <span class="token punctuation">[</span>::<span class="token punctuation">]</span>:22                    <span class="token punctuation">[</span>::<span class="token punctuation">]</span>:*
LISTEN     <span class="token number">0</span>      <span class="token number">100</span>      <span class="token punctuation">[</span>::1<span class="token punctuation">]</span>:25                    <span class="token punctuation">[</span>::<span class="token punctuation">]</span>:*
LISTEN     <span class="token number">0</span>      <span class="token number">128</span>       <span class="token punctuation">[</span>::<span class="token punctuation">]</span>:111                   <span class="token punctuation">[</span>::<span class="token punctuation">]</span>:*
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>å‘½ä»¤æ¨¡å—æ¥å—å‘½ä»¤åç§°ï¼Œåé¢æ˜¯ç©ºæ ¼åˆ†éš”çš„åˆ—è¡¨å‚æ•°ã€‚ç»™å®šçš„å‘½ä»¤å°†åœ¨æ‰€æœ‰é€‰å®šçš„èŠ‚ç‚¹ä¸Šæ‰§è¡Œã€‚å®ƒä¸ä¼šé€šè¿‡shellè¿›è¡Œå¤„ç†ï¼Œæ¯”å¦‚ $HOME å’Œæ“ä½œå¦‚ &quot;&lt;&quot;ï¼Œ&quot;&gt;&quot;ï¼Œ&quot;|&quot;ï¼Œ&quot;;&quot;ï¼Œ&quot;&amp;&quot; å·¥ä½œï¼ˆéœ€è¦ä½¿ç”¨ï¼ˆshellï¼‰æ¨¡å—å®ç°è¿™äº›åŠŸèƒ½ï¼‰ã€‚</p><p><strong>æ³¨æ„</strong>ï¼šè¯¥å‘½ä»¤ä¸æ”¯æŒ<code>| ç®¡é“å‘½ä»¤</code>ã€‚</p><p>è¯¥æ¨¡å—ä¸‹å¸¸ç”¨çš„å‡ ä¸ªå‘½ä»¤ï¼š</p><blockquote><p>chdirã€€ã€€ã€€ã€€ã€€ã€€ # åœ¨æ‰§è¡Œå‘½ä»¤ä¹‹å‰ï¼Œå…ˆåˆ‡æ¢åˆ°è¯¥ç›®å½•</p><p>executable # åˆ‡æ¢shellæ¥æ‰§è¡Œå‘½ä»¤ï¼Œéœ€è¦ä½¿ç”¨å‘½ä»¤çš„ç»å¯¹è·¯å¾„</p><p>free_form ã€€ # è¦æ‰§è¡Œçš„LinuxæŒ‡ä»¤ï¼Œä¸€èˆ¬ä½¿ç”¨Ansibleçš„-aå‚æ•°ä»£æ›¿ã€‚</p><p>creates ã€€# ä¸€ä¸ªæ–‡ä»¶åï¼Œå½“è¿™ä¸ªæ–‡ä»¶å­˜åœ¨ï¼Œåˆ™è¯¥å‘½ä»¤ä¸æ‰§è¡Œ,å¯ä»¥ç”¨æ¥åšåˆ¤æ–­</p><p>removes # ä¸€ä¸ªæ–‡ä»¶åï¼Œè¿™ä¸ªæ–‡ä»¶ä¸å­˜åœ¨ï¼Œåˆ™è¯¥å‘½ä»¤ä¸æ‰§è¡Œ</p></blockquote><h4 id="chdir-åœ¨æ‰§è¡Œå‘½ä»¤ä¹‹å‰-å…ˆåˆ‡æ¢åˆ°è¯¥ç›®å½•" tabindex="-1"><a class="header-anchor" href="#chdir-åœ¨æ‰§è¡Œå‘½ä»¤ä¹‹å‰-å…ˆåˆ‡æ¢åˆ°è¯¥ç›®å½•" aria-hidden="true">#</a> chdir åœ¨æ‰§è¡Œå‘½ä»¤ä¹‹å‰ï¼Œå…ˆåˆ‡æ¢åˆ°è¯¥ç›®å½•</h4><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token punctuation">[</span>root@admin ~<span class="token punctuation">]</span><span class="token comment"># ansible web -m command -a &#39;chdir=/root/ ls -all&#39;</span>
<span class="token number">192.168</span>.0.8 <span class="token operator">|</span> CHANGED <span class="token operator">|</span> <span class="token assign-left variable">rc</span><span class="token operator">=</span><span class="token number">0</span> <span class="token operator">&gt;&gt;</span>
æ€»ç”¨é‡ <span class="token number">28</span>
dr-xr-x---.  <span class="token number">7</span> root root  <span class="token number">204</span> <span class="token number">7</span>æœˆ  <span class="token number">28</span> <span class="token number">13</span>:19 <span class="token builtin class-name">.</span>
dr-xr-xr-x. <span class="token number">17</span> root root  <span class="token number">224</span> <span class="token number">7</span>æœˆ  <span class="token number">28</span> <span class="token number">11</span>:04 <span class="token punctuation">..</span>
-rw-------.  <span class="token number">1</span> root root <span class="token number">1614</span> <span class="token number">7</span>æœˆ  <span class="token number">28</span> <span class="token number">11</span>:05 anaconda-ks.cfg
drwx------.  <span class="token number">3</span> root root   <span class="token number">17</span> <span class="token number">7</span>æœˆ  <span class="token number">28</span> <span class="token number">13</span>:19 .ansible
-rw-------.  <span class="token number">1</span> root root  <span class="token number">540</span> <span class="token number">7</span>æœˆ  <span class="token number">28</span> <span class="token number">13</span>:29 .bash_history
-rw-r--r--.  <span class="token number">1</span> root root   <span class="token number">18</span> <span class="token number">12</span>æœˆ <span class="token number">29</span> <span class="token number">2013</span> .bash_logout
-rw-r--r--.  <span class="token number">1</span> root root  <span class="token number">176</span> <span class="token number">12</span>æœˆ <span class="token number">29</span> <span class="token number">2013</span> .bash_profile
-rw-r--r--.  <span class="token number">1</span> root root  <span class="token number">176</span> <span class="token number">12</span>æœˆ <span class="token number">29</span> <span class="token number">2013</span> .bashrc
drwxr-xr-x.  <span class="token number">3</span> root root   <span class="token number">18</span> <span class="token number">7</span>æœˆ  <span class="token number">28</span> <span class="token number">11</span>:06 .cache
drwxr-xr-x.  <span class="token number">3</span> root root   <span class="token number">18</span> <span class="token number">7</span>æœˆ  <span class="token number">28</span> <span class="token number">11</span>:06 .config
-rw-r--r--.  <span class="token number">1</span> root root  <span class="token number">100</span> <span class="token number">12</span>æœˆ <span class="token number">29</span> <span class="token number">2013</span> .cshrc
drwxr-----.  <span class="token number">3</span> root root   <span class="token number">19</span> <span class="token number">7</span>æœˆ  <span class="token number">28</span> <span class="token number">11</span>:18 .pki
drwx------.  <span class="token number">2</span> root root   <span class="token number">61</span> <span class="token number">7</span>æœˆ  <span class="token number">28</span> <span class="token number">13</span>:12 .ssh
-rw-r--r--.  <span class="token number">1</span> root root  <span class="token number">129</span> <span class="token number">12</span>æœˆ <span class="token number">29</span> <span class="token number">2013</span> .tcshrc
<span class="token punctuation">..</span><span class="token punctuation">..</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="creates-å­˜åœ¨-ä¸æ‰§è¡Œls-ä¸å­˜åœ¨-æ‰§è¡Œls" tabindex="-1"><a class="header-anchor" href="#creates-å­˜åœ¨-ä¸æ‰§è¡Œls-ä¸å­˜åœ¨-æ‰§è¡Œls" aria-hidden="true">#</a> createsï¼ˆå­˜åœ¨ï¼Œä¸æ‰§è¡Œlsï¼Œä¸å­˜åœ¨ï¼Œæ‰§è¡Œlsï¼‰</h4><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token comment"># å­˜åœ¨ï¼Œä¸æ‰§è¡Œls</span>
<span class="token punctuation">[</span>root@admin ~<span class="token punctuation">]</span><span class="token comment"># ansible web -m command -a &#39;creates=/root/test.png ls&#39;</span>
<span class="token number">192.168</span>.0.8 <span class="token operator">|</span> SUCCESS <span class="token operator">|</span> <span class="token assign-left variable">rc</span><span class="token operator">=</span><span class="token number">0</span> <span class="token operator">&gt;&gt;</span>
skipped, since /root/test.png exists

<span class="token comment"># ä¸å­˜åœ¨ï¼Œæ‰§è¡Œls</span>
<span class="token punctuation">[</span>root@admin ~<span class="token punctuation">]</span><span class="token comment"># ansible web -m command -a &#39;creates=/root/test1.png ls&#39;</span>
<span class="token number">192.168</span>.0.8 <span class="token operator">|</span> CHANGED <span class="token operator">|</span> <span class="token assign-left variable">rc</span><span class="token operator">=</span><span class="token number">0</span> <span class="token operator">&gt;&gt;</span>
anaconda-ks.cfg
test.png
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="removes-å­˜åœ¨-æ‰§è¡Œlsã€ä¸å­˜åœ¨-ä¸æ‰§è¡Œls" tabindex="-1"><a class="header-anchor" href="#removes-å­˜åœ¨-æ‰§è¡Œlsã€ä¸å­˜åœ¨-ä¸æ‰§è¡Œls" aria-hidden="true">#</a> removesï¼ˆå­˜åœ¨ï¼Œæ‰§è¡Œlsã€ä¸å­˜åœ¨ï¼Œä¸æ‰§è¡Œlsï¼‰</h4><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token comment"># å­˜åœ¨ï¼Œæ‰§è¡Œls</span>
<span class="token punctuation">[</span>root@admin ~<span class="token punctuation">]</span><span class="token comment"># ansible web -m command -a &#39;removes=/root/test.png ls&#39;</span>
<span class="token number">192.168</span>.0.8 <span class="token operator">|</span> CHANGED <span class="token operator">|</span> <span class="token assign-left variable">rc</span><span class="token operator">=</span><span class="token number">0</span> <span class="token operator">&gt;&gt;</span>
anaconda-ks.cfg
test.png

<span class="token comment"># ä¸å­˜åœ¨ï¼Œä¸æ‰§è¡Œls</span>
<span class="token punctuation">[</span>root@admin ~<span class="token punctuation">]</span><span class="token comment"># ansible web -m command -a &#39;removes=/root/test1.png ls&#39;</span>
<span class="token number">192.168</span>.0.8 <span class="token operator">|</span> SUCCESS <span class="token operator">|</span> <span class="token assign-left variable">rc</span><span class="token operator">=</span><span class="token number">0</span> <span class="token operator">&gt;&gt;</span>
skipped, since /root/test1.png does not exist
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="shell-æ¨¡å—" tabindex="-1"><a class="header-anchor" href="#shell-æ¨¡å—" aria-hidden="true">#</a> Shell æ¨¡å—</h3><p>shellæ¨¡å—å¯ä»¥åœ¨è¿œç¨‹ä¸»æœºä¸Šè°ƒç”¨shellè§£é‡Šå™¨è¿è¡Œå‘½ä»¤ï¼Œæ”¯æŒshellçš„å„ç§åŠŸèƒ½ï¼Œä¾‹å¦‚ç®¡é“ç­‰ã€‚</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token punctuation">[</span>root@admin ~<span class="token punctuation">]</span><span class="token comment"># ansible web -m shell -a &#39;cat /etc/passwd |grep &quot;root&quot;&#39;</span>
<span class="token number">192.168</span>.0.8 <span class="token operator">|</span> CHANGED <span class="token operator">|</span> <span class="token assign-left variable">rc</span><span class="token operator">=</span><span class="token number">0</span> <span class="token operator">&gt;&gt;</span>
root:x:0:0:root:/root:/bin/bash
operator:x:11:0:operator:/root:/sbin/nologin
<span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="copy-æ¨¡å—" tabindex="-1"><a class="header-anchor" href="#copy-æ¨¡å—" aria-hidden="true">#</a> copy æ¨¡å—</h3><p>å°†æ–‡ä»¶å¤åˆ¶åˆ°è¿œç¨‹ä¸»æœºï¼ŒåŒæ—¶æ”¯æŒç»™å®šå†…å®¹ç”Ÿæˆæ–‡ä»¶å’Œä¿®æ”¹æƒé™ç­‰ã€‚</p><p>ç›¸å…³é€‰é¡¹å¦‚ä¸‹ï¼š</p><blockquote><p><code>src</code>ã€€ã€€ã€€ã€€#æœ¬åœ°æ–‡ä»¶ã€‚å¯ä»¥æ˜¯ç»å¯¹è·¯å¾„ï¼Œä¹Ÿå¯ä»¥æ˜¯ç›¸å¯¹è·¯å¾„ã€‚å¦‚æœè·¯å¾„æ˜¯ä¸€ä¸ªç›®å½•ï¼Œåˆ™ä¼šé€’å½’å¤åˆ¶ï¼Œç”¨æ³•ç±»ä¼¼äº&quot;rsync&quot;</p><p><code>content</code>ã€€ã€€ã€€#ç”¨äºæ›¿æ¢&quot;src&quot;ï¼Œå¯ä»¥ç›´æ¥æŒ‡å®šæ–‡ä»¶çš„å€¼</p><p><code>dest</code>ã€€ã€€ã€€ã€€#å¿…é€‰é¡¹ï¼Œå°†æºæ–‡ä»¶å¤åˆ¶åˆ°çš„è¿œç¨‹ä¸»æœºçš„<strong>ç»å¯¹è·¯å¾„</strong></p><p><code>backup</code>ã€€ã€€ã€€#å½“æ–‡ä»¶å†…å®¹å‘ç”Ÿæ”¹å˜åï¼Œåœ¨è¦†ç›–ä¹‹å‰æŠŠæºæ–‡ä»¶å¤‡ä»½ï¼Œå¤‡ä»½æ–‡ä»¶åŒ…å«æ—¶é—´ä¿¡æ¯</p><p><code>directory_mode</code>ã€€ã€€ã€€ã€€#é€’å½’è®¾å®šç›®å½•çš„æƒé™ï¼Œé»˜è®¤ä¸ºç³»ç»Ÿé»˜è®¤æƒé™</p><p><code>force</code>ã€€ã€€ã€€ã€€#å½“ç›®æ ‡ä¸»æœºåŒ…å«è¯¥æ–‡ä»¶ï¼Œä½†å†…å®¹ä¸åŒæ—¶ï¼Œè®¾ä¸º&quot;yes&quot;ï¼Œè¡¨ç¤ºå¼ºåˆ¶è¦†ç›–ï¼›è®¾ä¸º&quot;no&quot;ï¼Œè¡¨ç¤ºç›®æ ‡ä¸»æœºçš„ç›®æ ‡ä½ç½®ä¸å­˜åœ¨è¯¥æ–‡ä»¶æ‰å¤åˆ¶ã€‚é»˜è®¤ä¸º&quot;yes&quot;</p><p><code>others</code>ã€€ã€€ã€€ã€€#æ‰€æœ‰çš„ file æ¨¡å—ä¸­çš„é€‰é¡¹å¯ä»¥åœ¨è¿™é‡Œä½¿ç”¨</p></blockquote><h4 id="å¤åˆ¶æ–‡ä»¶-srcã€dest" tabindex="-1"><a class="header-anchor" href="#å¤åˆ¶æ–‡ä»¶-srcã€dest" aria-hidden="true">#</a> å¤åˆ¶æ–‡ä»¶ï¼ˆsrcã€destï¼‰</h4><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token punctuation">[</span>root@admin ~<span class="token punctuation">]</span><span class="token comment"># ll</span>
æ€»ç”¨é‡ <span class="token number">8</span>
-rw-------. <span class="token number">1</span> root root <span class="token number">2174</span> <span class="token number">5</span>æœˆ  <span class="token number">10</span> <span class="token number">14</span>:10 anaconda-ks.cfg
<span class="token parameter variable">-rwxrwxrwx</span>  <span class="token number">1</span> root root <span class="token number">1960</span> <span class="token number">5</span>æœˆ  <span class="token number">10</span> <span class="token number">19</span>:32 first.sh

<span class="token punctuation">[</span>root@admin ~<span class="token punctuation">]</span><span class="token comment"># ansible web -m copy -a &#39;src=./first.sh dest=/root/first.sh&#39;</span>
<span class="token number">192.168</span>.0.8 <span class="token operator">|</span> CHANGED <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token punctuation">{</span>
    <span class="token string">&quot;ansible_facts&quot;</span><span class="token builtin class-name">:</span> <span class="token punctuation">{</span>
        <span class="token string">&quot;discovered_interpreter_python&quot;</span><span class="token builtin class-name">:</span> <span class="token string">&quot;/usr/bin/python&quot;</span>
    <span class="token punctuation">}</span>,
    <span class="token string">&quot;changed&quot;</span><span class="token builtin class-name">:</span> true,
    <span class="token string">&quot;checksum&quot;</span><span class="token builtin class-name">:</span> <span class="token string">&quot;23f3ef0aebb2a24b97c6617c3fe8a190dc1befed&quot;</span>,
    <span class="token string">&quot;dest&quot;</span><span class="token builtin class-name">:</span> <span class="token string">&quot;/root/first.sh&quot;</span>,
    <span class="token string">&quot;gid&quot;</span><span class="token builtin class-name">:</span> <span class="token number">0</span>,
    <span class="token string">&quot;group&quot;</span><span class="token builtin class-name">:</span> <span class="token string">&quot;root&quot;</span>,
    <span class="token string">&quot;md5sum&quot;</span><span class="token builtin class-name">:</span> <span class="token string">&quot;749f84620ba675946859e0d5a8c68ec5&quot;</span>,
    <span class="token string">&quot;mode&quot;</span><span class="token builtin class-name">:</span> <span class="token string">&quot;0644&quot;</span>,
    <span class="token string">&quot;owner&quot;</span><span class="token builtin class-name">:</span> <span class="token string">&quot;root&quot;</span>,
    <span class="token string">&quot;secontext&quot;</span><span class="token builtin class-name">:</span> <span class="token string">&quot;system_u:object_r:admin_home_t:s0&quot;</span>,
    <span class="token string">&quot;size&quot;</span><span class="token builtin class-name">:</span> <span class="token number">1960</span>,
    <span class="token string">&quot;src&quot;</span><span class="token builtin class-name">:</span> <span class="token string">&quot;/root/.ansible/tmp/ansible-tmp-1658988228.09-12252-115055636503998/source&quot;</span>,
    <span class="token string">&quot;state&quot;</span><span class="token builtin class-name">:</span> <span class="token string">&quot;file&quot;</span>,
    <span class="token string">&quot;uid&quot;</span><span class="token builtin class-name">:</span> <span class="token number">0</span>
<span class="token punctuation">}</span>

è¿œç¨‹æŸ¥çœ‹ï¼š
<span class="token punctuation">[</span>root@admin ~<span class="token punctuation">]</span><span class="token comment"># ansible web -m shell -a &#39;ls -all /root/first.sh&#39;</span>
<span class="token number">192.168</span>.0.8 <span class="token operator">|</span> CHANGED <span class="token operator">|</span> <span class="token assign-left variable">rc</span><span class="token operator">=</span><span class="token number">0</span> <span class="token operator">&gt;&gt;</span>
-rw-r--r--. <span class="token number">1</span> root root <span class="token number">1960</span> <span class="token number">7</span>æœˆ  <span class="token number">28</span> <span class="token number">14</span>:03 /root/first.sh
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="ç»™å®šå†…å®¹ç”Ÿæˆæ–‡ä»¶-content-å¹¶åˆ¶å®šæƒé™-mode" tabindex="-1"><a class="header-anchor" href="#ç»™å®šå†…å®¹ç”Ÿæˆæ–‡ä»¶-content-å¹¶åˆ¶å®šæƒé™-mode" aria-hidden="true">#</a> ç»™å®šå†…å®¹ç”Ÿæˆæ–‡ä»¶ï¼ˆcontentï¼‰ï¼Œå¹¶åˆ¶å®šæƒé™ï¼ˆmodeï¼‰</h4><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code>ansible web <span class="token parameter variable">-m</span> copy <span class="token parameter variable">-a</span> <span class="token string">&#39;src=/root/ds.txt dest=/root/ds.txt mode=777&#39;</span>
<span class="token punctuation">[</span>root@admin ~<span class="token punctuation">]</span><span class="token comment"># ansible web -m copy -a &#39;content=&quot;I am admin666 to copy test\n&quot; dest=/root/ds.txt mode=777&#39;</span>
<span class="token number">192.168</span>.0.8 <span class="token operator">|</span> CHANGED <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token punctuation">{</span>
    <span class="token string">&quot;ansible_facts&quot;</span><span class="token builtin class-name">:</span> <span class="token punctuation">{</span>
        <span class="token string">&quot;discovered_interpreter_python&quot;</span><span class="token builtin class-name">:</span> <span class="token string">&quot;/usr/bin/python&quot;</span>
    <span class="token punctuation">}</span>,
    <span class="token string">&quot;changed&quot;</span><span class="token builtin class-name">:</span> true,
    <span class="token string">&quot;checksum&quot;</span><span class="token builtin class-name">:</span> <span class="token string">&quot;f1027296960724e4f07c7f6d695e2a9d59a41fc6&quot;</span>,
    <span class="token string">&quot;dest&quot;</span><span class="token builtin class-name">:</span> <span class="token string">&quot;/root/ds.txt&quot;</span>,
    <span class="token string">&quot;gid&quot;</span><span class="token builtin class-name">:</span> <span class="token number">0</span>,
    <span class="token string">&quot;group&quot;</span><span class="token builtin class-name">:</span> <span class="token string">&quot;root&quot;</span>,
    <span class="token string">&quot;md5sum&quot;</span><span class="token builtin class-name">:</span> <span class="token string">&quot;ebe73ae34d327b8966e3a20fafd80eda&quot;</span>,
    <span class="token string">&quot;mode&quot;</span><span class="token builtin class-name">:</span> <span class="token string">&quot;0777&quot;</span>,
    <span class="token string">&quot;owner&quot;</span><span class="token builtin class-name">:</span> <span class="token string">&quot;root&quot;</span>,
    <span class="token string">&quot;secontext&quot;</span><span class="token builtin class-name">:</span> <span class="token string">&quot;system_u:object_r:admin_home_t:s0&quot;</span>,
    <span class="token string">&quot;size&quot;</span><span class="token builtin class-name">:</span> <span class="token number">27</span>,
    <span class="token string">&quot;src&quot;</span><span class="token builtin class-name">:</span> <span class="token string">&quot;/root/.ansible/tmp/ansible-tmp-1658988702.62-14114-156810509219572/source&quot;</span>,
    <span class="token string">&quot;state&quot;</span><span class="token builtin class-name">:</span> <span class="token string">&quot;file&quot;</span>,
    <span class="token string">&quot;uid&quot;</span><span class="token builtin class-name">:</span> <span class="token number">0</span>
<span class="token punctuation">}</span>

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>æŸ¥çœ‹æ–‡ä»¶</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token punctuation">[</span>root@admin ~<span class="token punctuation">]</span><span class="token comment"># ansible web -m shell -a &#39;ls -all /root/ds.txt&#39;</span>
<span class="token number">192.168</span>.0.8 <span class="token operator">|</span> CHANGED <span class="token operator">|</span> <span class="token assign-left variable">rc</span><span class="token operator">=</span><span class="token number">0</span> <span class="token operator">&gt;&gt;</span>
-rwxrwxrwx. <span class="token number">1</span> root root <span class="token number">27</span> <span class="token number">7</span>æœˆ  <span class="token number">28</span> <span class="token number">14</span>:11 /root/ds.txt

<span class="token punctuation">[</span>root@admin ~<span class="token punctuation">]</span><span class="token comment"># ansible web -m shell -a &#39;cat /root/ds.txt&#39;</span>
<span class="token number">192.168</span>.0.8 <span class="token operator">|</span> CHANGED <span class="token operator">|</span> <span class="token assign-left variable">rc</span><span class="token operator">=</span><span class="token number">0</span> <span class="token operator">&gt;&gt;</span>
I am admin666 to copy <span class="token builtin class-name">test</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="è¦†ç›–å¤‡ä»½-backup" tabindex="-1"><a class="header-anchor" href="#è¦†ç›–å¤‡ä»½-backup" aria-hidden="true">#</a> è¦†ç›–å¤‡ä»½ï¼ˆbackupï¼‰</h4><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token punctuation">[</span>root@admin ~<span class="token punctuation">]</span><span class="token comment"># ansible web -m copy -a &#39;content=&quot;I am admin666 to backup test\n&quot; backup=yes dest=/root/ds.txt mode=777&#39;</span>
<span class="token number">192.168</span>.0.8 <span class="token operator">|</span> SUCCESS <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token punctuation">{</span>
    <span class="token string">&quot;ansible_facts&quot;</span><span class="token builtin class-name">:</span> <span class="token punctuation">{</span>
        <span class="token string">&quot;discovered_interpreter_python&quot;</span><span class="token builtin class-name">:</span> <span class="token string">&quot;/usr/bin/python&quot;</span>
    <span class="token punctuation">}</span>,
    <span class="token string">&quot;changed&quot;</span><span class="token builtin class-name">:</span> false,
    <span class="token string">&quot;checksum&quot;</span><span class="token builtin class-name">:</span> <span class="token string">&quot;f1027296960724e4f07c7f6d695e2a9d59a41fc6&quot;</span>,
    <span class="token string">&quot;dest&quot;</span><span class="token builtin class-name">:</span> <span class="token string">&quot;/root/ds.txt&quot;</span>,
    <span class="token string">&quot;gid&quot;</span><span class="token builtin class-name">:</span> <span class="token number">0</span>,
    <span class="token string">&quot;group&quot;</span><span class="token builtin class-name">:</span> <span class="token string">&quot;root&quot;</span>,
    <span class="token string">&quot;mode&quot;</span><span class="token builtin class-name">:</span> <span class="token string">&quot;0777&quot;</span>,
    <span class="token string">&quot;owner&quot;</span><span class="token builtin class-name">:</span> <span class="token string">&quot;root&quot;</span>,
    <span class="token string">&quot;path&quot;</span><span class="token builtin class-name">:</span> <span class="token string">&quot;/root/ds.txt&quot;</span>,
    <span class="token string">&quot;secontext&quot;</span><span class="token builtin class-name">:</span> <span class="token string">&quot;system_u:object_r:admin_home_t:s0&quot;</span>,
    <span class="token string">&quot;size&quot;</span><span class="token builtin class-name">:</span> <span class="token number">27</span>,
    <span class="token string">&quot;state&quot;</span><span class="token builtin class-name">:</span> <span class="token string">&quot;file&quot;</span>,
    <span class="token string">&quot;uid&quot;</span><span class="token builtin class-name">:</span> <span class="token number">0</span>
<span class="token punctuation">}</span>

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>æŸ¥çœ‹æ–‡ä»¶</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token punctuation">[</span>root@admin ~<span class="token punctuation">]</span><span class="token comment"># ansible web -m shell -a &#39;ls /root/&#39;</span>
<span class="token number">192.168</span>.0.8 <span class="token operator">|</span> CHANGED <span class="token operator">|</span> <span class="token assign-left variable">rc</span><span class="token operator">=</span><span class="token number">0</span> <span class="token operator">&gt;&gt;</span>
anaconda-ks.cfg
ds.txt
ds.txt.13370.2022-07-28@14:20:20~
first.sh
test.png

<span class="token punctuation">[</span>root@admin ~<span class="token punctuation">]</span><span class="token comment"># ansible web -m shell -a &#39;cat /root/ds.txt&#39;</span>
<span class="token number">192.168</span>.0.8 <span class="token operator">|</span> CHANGED <span class="token operator">|</span> <span class="token assign-left variable">rc</span><span class="token operator">=</span><span class="token number">0</span> <span class="token operator">&gt;&gt;</span>
I am admin666 to backup <span class="token builtin class-name">test</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="file-æ¨¡å—-æ–‡ä»¶ç®¡ç†" tabindex="-1"><a class="header-anchor" href="#file-æ¨¡å—-æ–‡ä»¶ç®¡ç†" aria-hidden="true">#</a> file æ¨¡å—ï¼ˆæ–‡ä»¶ç®¡ç†ï¼‰</h3><p>ä¸»è¦ç”¨äºè®¾ç½®æ–‡ä»¶çš„å±æ€§ï¼Œæ¯”å¦‚åˆ›å»ºæ–‡ä»¶ã€åˆ›å»ºé“¾æ¥æ–‡ä»¶ã€åˆ é™¤æ–‡ä»¶ç­‰ã€‚</p><p>å¸¸è§çš„å‘½ä»¤ï¼š</p><blockquote><p><code>force</code>ã€€ã€€#éœ€è¦åœ¨ä¸¤ç§æƒ…å†µä¸‹å¼ºåˆ¶åˆ›å»ºè½¯é“¾æ¥ï¼Œä¸€ç§æ˜¯æºæ–‡ä»¶ä¸å­˜åœ¨ï¼Œä½†ä¹‹åä¼šå»ºç«‹çš„æƒ…å†µä¸‹ï¼›å¦ä¸€ç§æ˜¯ç›®æ ‡è½¯é“¾æ¥å·²å­˜åœ¨ï¼Œéœ€è¦å…ˆå–æ¶ˆä¹‹å‰çš„è½¯é“¾ï¼Œç„¶ååˆ›å»ºæ–°çš„è½¯é“¾ï¼Œæœ‰ä¸¤ä¸ªé€‰é¡¹ï¼šyes|no</p><p><code>group</code>ã€€ã€€#å®šä¹‰æ–‡ä»¶/ç›®å½•çš„å±ç»„ã€‚åé¢å¯ä»¥åŠ ä¸Š<code>mode</code>ï¼šå®šä¹‰æ–‡ä»¶/ç›®å½•çš„æƒé™</p><p><code>owner</code>ã€€ã€€#å®šä¹‰æ–‡ä»¶/ç›®å½•çš„å±ä¸»ã€‚åé¢å¿…é¡»è·Ÿä¸Š<code>path</code>ï¼šå®šä¹‰æ–‡ä»¶/ç›®å½•çš„è·¯å¾„</p><p><code>recurse</code>ã€€ã€€#é€’å½’è®¾ç½®æ–‡ä»¶çš„å±æ€§ï¼Œåªå¯¹ç›®å½•æœ‰æ•ˆï¼Œåé¢è·Ÿä¸Š<code>src</code>ï¼šè¢«é“¾æ¥çš„æºæ–‡ä»¶è·¯å¾„ï¼Œåªåº”ç”¨äº<code>state=link</code>çš„æƒ…å†µ</p><p><code>dest</code>ã€€ã€€#è¢«é“¾æ¥åˆ°çš„è·¯å¾„ï¼Œåªåº”ç”¨äº<code>state=link</code>çš„æƒ…å†µ</p><p><code>state</code>ã€€ã€€#çŠ¶æ€ï¼Œæœ‰ä»¥ä¸‹é€‰é¡¹ï¼š</p><blockquote><p><code>directory</code>ï¼šå¦‚æœç›®å½•ä¸å­˜åœ¨ï¼Œå°±åˆ›å»ºç›®å½•</p><p><code>file</code>ï¼šå³ä½¿æ–‡ä»¶ä¸å­˜åœ¨ï¼Œä¹Ÿä¸ä¼šè¢«åˆ›å»º</p><p><code>link</code>ï¼šåˆ›å»ºè½¯é“¾æ¥</p><p><code>hard</code>ï¼šåˆ›å»ºç¡¬é“¾æ¥</p><p><code>touch</code>ï¼šå¦‚æœæ–‡ä»¶ä¸å­˜åœ¨ï¼Œåˆ™ä¼šåˆ›å»ºä¸€ä¸ªæ–°çš„æ–‡ä»¶ï¼Œå¦‚æœæ–‡ä»¶æˆ–ç›®å½•å·²å­˜åœ¨ï¼Œåˆ™æ›´æ–°å…¶æœ€åä¿®æ”¹æ—¶é—´</p><p><code>absent</code>ï¼šåˆ é™¤ç›®å½•ã€æ–‡ä»¶æˆ–è€…å–æ¶ˆé“¾æ¥æ–‡ä»¶</p></blockquote></blockquote><h4 id="åˆ›å»ºç›®å½•" tabindex="-1"><a class="header-anchor" href="#åˆ›å»ºç›®å½•" aria-hidden="true">#</a> åˆ›å»ºç›®å½•</h4><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token punctuation">[</span>root@admin ~<span class="token punctuation">]</span><span class="token comment"># ansible web -m file -a &#39;path=/root/app state=directory&#39;</span>
<span class="token number">192.168</span>.0.8 <span class="token operator">|</span> CHANGED <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token punctuation">{</span>
    <span class="token string">&quot;ansible_facts&quot;</span><span class="token builtin class-name">:</span> <span class="token punctuation">{</span>
        <span class="token string">&quot;discovered_interpreter_python&quot;</span><span class="token builtin class-name">:</span> <span class="token string">&quot;/usr/bin/python&quot;</span>
    <span class="token punctuation">}</span>,
    <span class="token string">&quot;changed&quot;</span><span class="token builtin class-name">:</span> true,
    <span class="token string">&quot;gid&quot;</span><span class="token builtin class-name">:</span> <span class="token number">0</span>,
    <span class="token string">&quot;group&quot;</span><span class="token builtin class-name">:</span> <span class="token string">&quot;root&quot;</span>,
    <span class="token string">&quot;mode&quot;</span><span class="token builtin class-name">:</span> <span class="token string">&quot;0755&quot;</span>,
    <span class="token string">&quot;owner&quot;</span><span class="token builtin class-name">:</span> <span class="token string">&quot;root&quot;</span>,
    <span class="token string">&quot;path&quot;</span><span class="token builtin class-name">:</span> <span class="token string">&quot;/root/app&quot;</span>,
    <span class="token string">&quot;secontext&quot;</span><span class="token builtin class-name">:</span> <span class="token string">&quot;unconfined_u:object_r:admin_home_t:s0&quot;</span>,
    <span class="token string">&quot;size&quot;</span><span class="token builtin class-name">:</span> <span class="token number">6</span>,
    <span class="token string">&quot;state&quot;</span><span class="token builtin class-name">:</span> <span class="token string">&quot;directory&quot;</span>,
    <span class="token string">&quot;uid&quot;</span><span class="token builtin class-name">:</span> <span class="token number">0</span>
<span class="token punctuation">}</span>


<span class="token punctuation">[</span>root@admin ~<span class="token punctuation">]</span><span class="token comment"># ansible web -m shell -a &#39;ls -l /root&#39;</span>
<span class="token number">192.168</span>.0.8 <span class="token operator">|</span> CHANGED <span class="token operator">|</span> <span class="token assign-left variable">rc</span><span class="token operator">=</span><span class="token number">0</span> <span class="token operator">&gt;&gt;</span>
æ€»ç”¨é‡ <span class="token number">16</span>
-rw-------. <span class="token number">1</span> root root <span class="token number">1614</span> <span class="token number">7</span>æœˆ  <span class="token number">28</span> <span class="token number">11</span>:05 anaconda-ks.cfg
drwxr-xr-x. <span class="token number">2</span> root root    <span class="token number">6</span> <span class="token number">7</span>æœˆ  <span class="token number">28</span> <span class="token number">14</span>:28 app
-rwxrwxrwx. <span class="token number">1</span> root root   <span class="token number">29</span> <span class="token number">7</span>æœˆ  <span class="token number">28</span> <span class="token number">14</span>:20 ds.txt
-rw-r--r--. <span class="token number">1</span> root root   <span class="token number">26</span> <span class="token number">7</span>æœˆ  <span class="token number">28</span> <span class="token number">14</span>:19 ds.txt.13370.2022-07-28@14:20:20~
-rw-r--r--. <span class="token number">1</span> root root <span class="token number">1960</span> <span class="token number">7</span>æœˆ  <span class="token number">28</span> <span class="token number">14</span>:03 first.sh
-rw-r--r--. <span class="token number">1</span> root root    <span class="token number">0</span> <span class="token number">7</span>æœˆ  <span class="token number">28</span> <span class="token number">13</span>:44 test.png
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="åˆ›å»ºé“¾æ¥æ–‡ä»¶" tabindex="-1"><a class="header-anchor" href="#åˆ›å»ºé“¾æ¥æ–‡ä»¶" aria-hidden="true">#</a> åˆ›å»ºé“¾æ¥æ–‡ä»¶</h4><p>ä¸ºtest.jpgåˆ›å»ºé“¾æ¥</p><p>linkï¼šåˆ›å»ºè½¯é“¾æ¥</p><p>hardï¼šåˆ›å»ºç¡¬é“¾æ¥</p><p>forceï¼šéœ€è¦åœ¨ä¸¤ç§æƒ…å†µä¸‹å¼ºåˆ¶åˆ›å»ºè½¯é“¾æ¥ï¼Œä¸€ç§æ˜¯æºæ–‡ä»¶ä¸å­˜åœ¨ï¼Œä½†ä¹‹åä¼šå»ºç«‹çš„æƒ…å†µä¸‹ï¼›å¦ä¸€ç§æ˜¯ç›®æ ‡è½¯é“¾æ¥å·²å­˜åœ¨ï¼Œéœ€è¦å…ˆå–æ¶ˆä¹‹å‰çš„è½¯é“¾ï¼Œç„¶ååˆ›å»ºæ–°çš„è½¯é“¾ï¼Œæœ‰ä¸¤ä¸ªé€‰é¡¹ï¼šyes|no</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code>
<span class="token punctuation">[</span>root@admin ~<span class="token punctuation">]</span><span class="token comment"># ansible web -m file -a &#39;path=/root/test2.png src=/root/test.png state=link&#39;</span>
<span class="token number">192.168</span>.0.8 <span class="token operator">|</span> CHANGED <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token punctuation">{</span>
    <span class="token string">&quot;ansible_facts&quot;</span><span class="token builtin class-name">:</span> <span class="token punctuation">{</span>
        <span class="token string">&quot;discovered_interpreter_python&quot;</span><span class="token builtin class-name">:</span> <span class="token string">&quot;/usr/bin/python&quot;</span>
    <span class="token punctuation">}</span>,
    <span class="token string">&quot;changed&quot;</span><span class="token builtin class-name">:</span> true,
    <span class="token string">&quot;dest&quot;</span><span class="token builtin class-name">:</span> <span class="token string">&quot;/root/test2.png&quot;</span>,
    <span class="token string">&quot;gid&quot;</span><span class="token builtin class-name">:</span> <span class="token number">0</span>,
    <span class="token string">&quot;group&quot;</span><span class="token builtin class-name">:</span> <span class="token string">&quot;root&quot;</span>,
    <span class="token string">&quot;mode&quot;</span><span class="token builtin class-name">:</span> <span class="token string">&quot;0777&quot;</span>,
    <span class="token string">&quot;owner&quot;</span><span class="token builtin class-name">:</span> <span class="token string">&quot;root&quot;</span>,
    <span class="token string">&quot;secontext&quot;</span><span class="token builtin class-name">:</span> <span class="token string">&quot;unconfined_u:object_r:admin_home_t:s0&quot;</span>,
    <span class="token string">&quot;size&quot;</span><span class="token builtin class-name">:</span> <span class="token number">14</span>,
    <span class="token string">&quot;src&quot;</span><span class="token builtin class-name">:</span> <span class="token string">&quot;/root/test.png&quot;</span>,
    <span class="token string">&quot;state&quot;</span><span class="token builtin class-name">:</span> <span class="token string">&quot;link&quot;</span>,
    <span class="token string">&quot;uid&quot;</span><span class="token builtin class-name">:</span> <span class="token number">0</span>
<span class="token punctuation">}</span>
<span class="token punctuation">[</span>root@admin ~<span class="token punctuation">]</span><span class="token comment"># ansible web -m file -a &#39;path=/root/test3.png src=/root/test.png state=hard&#39;</span>
<span class="token number">192.168</span>.0.8 <span class="token operator">|</span> CHANGED <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token punctuation">{</span>
    <span class="token string">&quot;ansible_facts&quot;</span><span class="token builtin class-name">:</span> <span class="token punctuation">{</span>
        <span class="token string">&quot;discovered_interpreter_python&quot;</span><span class="token builtin class-name">:</span> <span class="token string">&quot;/usr/bin/python&quot;</span>
    <span class="token punctuation">}</span>,
    <span class="token string">&quot;changed&quot;</span><span class="token builtin class-name">:</span> true,
    <span class="token string">&quot;dest&quot;</span><span class="token builtin class-name">:</span> <span class="token string">&quot;/root/test3.png&quot;</span>,
    <span class="token string">&quot;gid&quot;</span><span class="token builtin class-name">:</span> <span class="token number">0</span>,
    <span class="token string">&quot;group&quot;</span><span class="token builtin class-name">:</span> <span class="token string">&quot;root&quot;</span>,
    <span class="token string">&quot;mode&quot;</span><span class="token builtin class-name">:</span> <span class="token string">&quot;0644&quot;</span>,
    <span class="token string">&quot;owner&quot;</span><span class="token builtin class-name">:</span> <span class="token string">&quot;root&quot;</span>,
    <span class="token string">&quot;secontext&quot;</span><span class="token builtin class-name">:</span> <span class="token string">&quot;unconfined_u:object_r:admin_home_t:s0&quot;</span>,
    <span class="token string">&quot;size&quot;</span><span class="token builtin class-name">:</span> <span class="token number">0</span>,
    <span class="token string">&quot;src&quot;</span><span class="token builtin class-name">:</span> <span class="token string">&quot;/root/test.png&quot;</span>,
    <span class="token string">&quot;state&quot;</span><span class="token builtin class-name">:</span> <span class="token string">&quot;hard&quot;</span>,
    <span class="token string">&quot;uid&quot;</span><span class="token builtin class-name">:</span> <span class="token number">0</span>
<span class="token punctuation">}</span>


<span class="token punctuation">[</span>root@admin ~<span class="token punctuation">]</span><span class="token comment"># ansible web -m shell -a &#39;ls -l /root/&#39;</span>
<span class="token number">192.168</span>.0.8 <span class="token operator">|</span> CHANGED <span class="token operator">|</span> <span class="token assign-left variable">rc</span><span class="token operator">=</span><span class="token number">0</span> <span class="token operator">&gt;&gt;</span>
lrwxrwxrwx. <span class="token number">1</span> root root   <span class="token number">14</span> <span class="token number">7</span>æœˆ  <span class="token number">28</span> <span class="token number">14</span>:39 test2.png -<span class="token operator">&gt;</span> /root/test.png
-rw-r--r--. <span class="token number">2</span> root root    <span class="token number">0</span> <span class="token number">7</span>æœˆ  <span class="token number">28</span> <span class="token number">13</span>:44 test3.png
-rw-r--r--. <span class="token number">2</span> root root    <span class="token number">0</span> <span class="token number">7</span>æœˆ  <span class="token number">28</span> <span class="token number">13</span>:44 test.png
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="åˆ é™¤æ–‡ä»¶" tabindex="-1"><a class="header-anchor" href="#åˆ é™¤æ–‡ä»¶" aria-hidden="true">#</a> åˆ é™¤æ–‡ä»¶</h4><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token punctuation">[</span>root@admin ~<span class="token punctuation">]</span><span class="token comment"># ansible web -m file -a &#39;path=/root/test3.png state=absent&#39;</span>
<span class="token number">192.168</span>.0.8 <span class="token operator">|</span> CHANGED <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token punctuation">{</span>
    <span class="token string">&quot;ansible_facts&quot;</span><span class="token builtin class-name">:</span> <span class="token punctuation">{</span>
        <span class="token string">&quot;discovered_interpreter_python&quot;</span><span class="token builtin class-name">:</span> <span class="token string">&quot;/usr/bin/python&quot;</span>
    <span class="token punctuation">}</span>,
    <span class="token string">&quot;changed&quot;</span><span class="token builtin class-name">:</span> true,
    <span class="token string">&quot;path&quot;</span><span class="token builtin class-name">:</span> <span class="token string">&quot;/root/test3.png&quot;</span>,
    <span class="token string">&quot;state&quot;</span><span class="token builtin class-name">:</span> <span class="token string">&quot;absent&quot;</span>
<span class="token punctuation">}</span>


<span class="token punctuation">[</span>root@admin ~<span class="token punctuation">]</span><span class="token comment"># ansible web -m shell -a &#39;ls -l /root/test3.png&#39;</span>
<span class="token number">192.168</span>.0.8 <span class="token operator">|</span> FAILED <span class="token operator">|</span> <span class="token assign-left variable">rc</span><span class="token operator">=</span><span class="token number">2</span> <span class="token operator">&gt;&gt;</span>
ls: æ— æ³•è®¿é—®/root/test3.png: æ²¡æœ‰é‚£ä¸ªæ–‡ä»¶æˆ–ç›®å½•non-zero <span class="token builtin class-name">return</span> code
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="fetch-æ¨¡å—-å¤åˆ¶è¿œç¨‹æ–‡ä»¶åˆ°æœ¬åœ°ä¸»æœº" tabindex="-1"><a class="header-anchor" href="#fetch-æ¨¡å—-å¤åˆ¶è¿œç¨‹æ–‡ä»¶åˆ°æœ¬åœ°ä¸»æœº" aria-hidden="true">#</a> fetch æ¨¡å—ï¼ˆå¤åˆ¶è¿œç¨‹æ–‡ä»¶åˆ°æœ¬åœ°ä¸»æœºï¼‰</h3><p>ç”¨äºä»è¿œç¨‹æŸä¸»æœºè·å–ï¼ˆå¤åˆ¶ï¼‰æ–‡ä»¶åˆ°æœ¬åœ°ã€‚</p><blockquote><p><code>dest</code>ï¼šç”¨æ¥å­˜æ”¾æ–‡ä»¶çš„ç›®å½•</p><p><code>src</code>ï¼šåœ¨è¿œç¨‹æ‹‰å–çš„æ–‡ä»¶ï¼Œå¹¶ä¸”å¿…é¡»æ˜¯ä¸€ä¸ª<strong>file</strong>ï¼Œä¸èƒ½æ˜¯<strong>ç›®å½•</strong></p></blockquote><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token punctuation">[</span>root@admin ~<span class="token punctuation">]</span><span class="token comment"># ansible web -m fetch -a &#39;src=/root/ds.txt dest=/root&#39;</span>
<span class="token number">192.168</span>.0.8 <span class="token operator">|</span> CHANGED <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token punctuation">{</span>
    <span class="token string">&quot;changed&quot;</span><span class="token builtin class-name">:</span> true,
    <span class="token string">&quot;checksum&quot;</span><span class="token builtin class-name">:</span> <span class="token string">&quot;dbd48461fe5fff10ea97f688511ba74a292ab6f9&quot;</span>,
    <span class="token string">&quot;dest&quot;</span><span class="token builtin class-name">:</span> <span class="token string">&quot;/root/192.168.0.8/root/ds.txt&quot;</span>,
    <span class="token string">&quot;md5sum&quot;</span><span class="token builtin class-name">:</span> <span class="token string">&quot;9a282b66af8d46bceabdcd71173fc67d&quot;</span>,
    <span class="token string">&quot;remote_checksum&quot;</span><span class="token builtin class-name">:</span> <span class="token string">&quot;dbd48461fe5fff10ea97f688511ba74a292ab6f9&quot;</span>,
    <span class="token string">&quot;remote_md5sum&quot;</span><span class="token builtin class-name">:</span> null
<span class="token punctuation">}</span>

<span class="token punctuation">[</span>root@admin ~<span class="token punctuation">]</span><span class="token comment"># ls -l /root/192.168.0.8/root/ds.txt</span>
-rwxr-xr-x <span class="token number">1</span> root root <span class="token number">29</span> <span class="token number">7</span>æœˆ  <span class="token number">28</span> <span class="token number">14</span>:46 /root/192.168.0.8/root/ds.txt
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>æˆ‘ä»¬å¯ä»¥åœ¨æœ¬æœºä¸ŠæŸ¥çœ‹ä¸€ä¸‹æ–‡ä»¶æ˜¯å¦å¤åˆ¶æˆåŠŸã€‚è¦æ³¨æ„ï¼Œæ–‡ä»¶ä¿å­˜çš„è·¯å¾„æ˜¯æˆ‘ä»¬è®¾ç½®çš„æ¥æ”¶ç›®å½•ä¸‹çš„<code>è¢«ç®¡åˆ¶ä¸»æœºip</code>ç›®å½•ä¸‹</p><h3 id="cron-æ¨¡å—-è®¡åˆ’ä»»åŠ¡" tabindex="-1"><a class="header-anchor" href="#cron-æ¨¡å—-è®¡åˆ’ä»»åŠ¡" aria-hidden="true">#</a> cron æ¨¡å—ï¼ˆè®¡åˆ’ä»»åŠ¡ï¼‰</h3><p>ç”¨äºç®¡ç†<code>cron</code>è®¡åˆ’ä»»åŠ¡çš„ã€‚ ã€€å…¶ä½¿ç”¨çš„è¯­æ³•è·Ÿæˆ‘ä»¬çš„<code>crontab</code>æ–‡ä»¶ä¸­çš„è¯­æ³•ä¸€è‡´ï¼ŒåŒæ—¶ï¼Œå¯ä»¥æŒ‡å®šä»¥ä¸‹é€‰é¡¹ï¼š</p><blockquote><p><code>day=</code> #æ—¥åº”è¯¥è¿è¡Œçš„å·¥ä½œ( 1-31, *, */2, )</p><p><code>hour=</code> # å°æ—¶ ( 0-23, *, */2, )</p><p><code>minute=</code> #åˆ†é’Ÿ( 0-59, *, */2, )</p><p><code>month=</code> # æœˆ( 1-12, *, /2, )</p><p><code>weekday=</code> # å‘¨ ( 0-6 for Sunday-Saturday,, )</p><p><code>job=</code> #æŒ‡æ˜è¿è¡Œçš„å‘½ä»¤æ˜¯ä»€ä¹ˆ</p><p><code>name=</code> #å®šæ—¶ä»»åŠ¡æè¿°</p><p><code>reboot</code> # ä»»åŠ¡åœ¨é‡å¯æ—¶è¿è¡Œï¼Œä¸å»ºè®®ä½¿ç”¨ï¼Œå»ºè®®ä½¿ç”¨special_time</p><p><code>special_time</code> #ç‰¹æ®Šçš„æ—¶é—´èŒƒå›´ï¼Œå‚æ•°ï¼šrebootï¼ˆé‡å¯æ—¶ï¼‰ï¼Œannuallyï¼ˆæ¯å¹´ï¼‰ï¼Œmonthlyï¼ˆæ¯æœˆï¼‰ï¼Œweeklyï¼ˆæ¯å‘¨ï¼‰ï¼Œdailyï¼ˆæ¯å¤©ï¼‰ï¼Œhourlyï¼ˆæ¯å°æ—¶ï¼‰</p><p><code>state</code> #æŒ‡å®šçŠ¶æ€ï¼Œpresentè¡¨ç¤ºæ·»åŠ å®šæ—¶ä»»åŠ¡ï¼Œä¹Ÿæ˜¯é»˜è®¤è®¾ç½®ï¼Œabsentè¡¨ç¤ºåˆ é™¤å®šæ—¶ä»»åŠ¡</p><p><code>user</code> # ä»¥å“ªä¸ªç”¨æˆ·çš„èº«ä»½æ‰§è¡Œ</p></blockquote><h4 id="_1-æ·»åŠ è®¡åˆ’ä»»åŠ¡" tabindex="-1"><a class="header-anchor" href="#_1-æ·»åŠ è®¡åˆ’ä»»åŠ¡" aria-hidden="true">#</a> â‘  æ·»åŠ è®¡åˆ’ä»»åŠ¡</h4><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token punctuation">[</span>root@admin ~<span class="token punctuation">]</span><span class="token comment"># ansible web -m cron -a &#39;name=&quot;ntp æ¯ 5 åˆ†é’Ÿæ›´æ–°ä¸€æ¬¡&quot; minute=*/5 job=&quot;/sbin/ntpdate 172.17.0.1 &amp;&gt; /dev/null&quot;&#39;</span>
<span class="token number">192.168</span>.0.8 <span class="token operator">|</span> CHANGED <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token punctuation">{</span>
    <span class="token string">&quot;ansible_facts&quot;</span><span class="token builtin class-name">:</span> <span class="token punctuation">{</span>
        <span class="token string">&quot;discovered_interpreter_python&quot;</span><span class="token builtin class-name">:</span> <span class="token string">&quot;/usr/bin/python&quot;</span>
    <span class="token punctuation">}</span>,
    <span class="token string">&quot;changed&quot;</span><span class="token builtin class-name">:</span> true,
    <span class="token string">&quot;envs&quot;</span><span class="token builtin class-name">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>,
    <span class="token string">&quot;jobs&quot;</span><span class="token builtin class-name">:</span> <span class="token punctuation">[</span>
        <span class="token string">&quot;ntp æ¯ 5 åˆ†é’Ÿæ›´æ–°ä¸€æ¬¡&quot;</span>
    <span class="token punctuation">]</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>æŸ¥çœ‹è®¡åˆ’ä»»åŠ¡åˆ—è¡¨</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token punctuation">[</span>root@admin ~<span class="token punctuation">]</span><span class="token comment"># ansible web -m shell -a &#39;crontab -l&#39;</span>
<span class="token number">192.168</span>.0.8 <span class="token operator">|</span> CHANGED <span class="token operator">|</span> <span class="token assign-left variable">rc</span><span class="token operator">=</span><span class="token number">0</span> <span class="token operator">&gt;&gt;</span>
<span class="token comment">#Ansible: ntp æ¯ 5 åˆ†é’Ÿæ›´æ–°ä¸€æ¬¡</span>
*/5 * * * * /sbin/ntpdate <span class="token number">172.17</span>.0.1 <span class="token operator">&amp;&gt;</span> /dev/null


<span class="token punctuation">[</span>root@admin ~<span class="token punctuation">]</span><span class="token comment"># ansible web -m shell -a &#39;ls -l /sbin/ntpdate&#39;</span>
<span class="token number">192.168</span>.0.8 <span class="token operator">|</span> CHANGED <span class="token operator">|</span> <span class="token assign-left variable">rc</span><span class="token operator">=</span><span class="token number">0</span> <span class="token operator">&gt;&gt;</span>
-rwxr-xr-x. <span class="token number">1</span> root root <span class="token number">110160</span> <span class="token number">6</span>æœˆ  <span class="token number">23</span> <span class="token number">2020</span> /sbin/ntpdate
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="_2-åˆ é™¤è®¡åˆ’ä»»åŠ¡" tabindex="-1"><a class="header-anchor" href="#_2-åˆ é™¤è®¡åˆ’ä»»åŠ¡" aria-hidden="true">#</a> â‘¡ åˆ é™¤è®¡åˆ’ä»»åŠ¡</h4><p>æŸ¥çœ‹è®¡åˆ’ä»»åŠ¡åˆ—è¡¨</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token punctuation">[</span>root@admin ~<span class="token punctuation">]</span><span class="token comment"># ansible web -m shell -a &#39;crontab -l&#39;</span>
<span class="token number">192.168</span>.0.8 <span class="token operator">|</span> CHANGED <span class="token operator">|</span> <span class="token assign-left variable">rc</span><span class="token operator">=</span><span class="token number">0</span> <span class="token operator">&gt;&gt;</span>
<span class="token comment">#Ansible: ntp æ¯ 5 åˆ†é’Ÿæ›´æ–°ä¸€æ¬¡</span>
*/5 * * * * /sbin/ntpdate <span class="token number">172.17</span>.0.1 <span class="token operator">&amp;&gt;</span> /dev/null
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>åˆ é™¤</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token punctuation">[</span>root@admin ~<span class="token punctuation">]</span><span class="token comment"># ansible web -m cron -a &#39;name=&quot;df everyday&quot; hour=15 job=&quot;df -lh &gt;&gt; /tmp/disk_total &amp;&gt; /dev/null&quot; state=absent&#39;</span>
<span class="token number">192.168</span>.0.8 <span class="token operator">|</span> SUCCESS <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token punctuation">{</span>
    <span class="token string">&quot;ansible_facts&quot;</span><span class="token builtin class-name">:</span> <span class="token punctuation">{</span>
        <span class="token string">&quot;discovered_interpreter_python&quot;</span><span class="token builtin class-name">:</span> <span class="token string">&quot;/usr/bin/python&quot;</span>
    <span class="token punctuation">}</span>,
    <span class="token string">&quot;changed&quot;</span><span class="token builtin class-name">:</span> false,
    <span class="token string">&quot;envs&quot;</span><span class="token builtin class-name">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>,
    <span class="token string">&quot;jobs&quot;</span><span class="token builtin class-name">:</span> <span class="token punctuation">[</span>
        <span class="token string">&quot;ntp æ¯ 5 åˆ†é’Ÿæ›´æ–°ä¸€æ¬¡&quot;</span>
    <span class="token punctuation">]</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>åˆ é™¤å®Œæˆåï¼Œæˆ‘ä»¬å†æŸ¥çœ‹ä¸€ä¸‹ç°æœ‰çš„è®¡åˆ’ä»»åŠ¡ç¡®è®¤ä¸€ä¸‹ï¼š</p><div class="language-perl line-numbers-mode" data-ext="perl"><pre class="language-perl"><code>
<span class="token punctuation">[</span>root<span class="token variable">@admin</span> <span class="token operator">~</span><span class="token punctuation">]</span><span class="token comment"># ansible web -m shell -a &#39;crontab -l&#39;</span>
<span class="token v-string string">192.168.0.8</span> <span class="token operator">|</span> CHANGED <span class="token operator">|</span> rc<span class="token operator">=</span><span class="token number">0</span> <span class="token operator">&gt;&gt;</span>
<span class="token comment">#Ansible: ntp æ¯ 5 åˆ†é’Ÿæ›´æ–°ä¸€æ¬¡</span>
<span class="token operator">*</span><span class="token operator">/</span><span class="token number">5</span> <span class="token operator">*</span> <span class="token operator">*</span> <span class="token operator">*</span> <span class="token operator">*</span> <span class="token operator">/</span>sbin<span class="token operator">/</span>ntpdate <span class="token v-string string">172.17.0.1</span> <span class="token operator">&amp;</span><span class="token operator">&gt;</span> <span class="token regex">/dev/null</span>

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="yum-æ¨¡å—-ç”¨äºè½¯ä»¶çš„å®‰è£…" tabindex="-1"><a class="header-anchor" href="#yum-æ¨¡å—-ç”¨äºè½¯ä»¶çš„å®‰è£…" aria-hidden="true">#</a> yum æ¨¡å—ï¼ˆç”¨äºè½¯ä»¶çš„å®‰è£…ï¼‰</h3><p>é¡¾åæ€ä¹‰ï¼Œè¯¥æ¨¡å—ä¸»è¦ç”¨äºè½¯ä»¶çš„å®‰è£…ã€‚ ã€€å…¶é€‰é¡¹å¦‚ä¸‹ï¼š</p><blockquote><p><code>name=</code>ã€€ã€€#æ‰€å®‰è£…çš„åŒ…çš„åç§°</p><p><code>state=</code>ã€€ã€€#<code>present</code>---&gt;å®‰è£…ï¼Œ <code>latest</code>---&gt;å®‰è£…æœ€æ–°çš„, <code>absent</code>---&gt; å¸è½½è½¯ä»¶ã€‚</p><p><code>update_cache</code>ã€€ã€€#å¼ºåˆ¶æ›´æ–°yumçš„ç¼“å­˜</p><p><code>conf_file</code>ã€€ã€€#æŒ‡å®šè¿œç¨‹yumå®‰è£…æ—¶æ‰€ä¾èµ–çš„é…ç½®æ–‡ä»¶ï¼ˆå®‰è£…æœ¬åœ°å·²æœ‰çš„åŒ…ï¼‰ã€‚</p><p><code>disable_pgp_check</code>ã€€ã€€#æ˜¯å¦ç¦æ­¢GPG checkingï¼Œåªç”¨äº<code>present</code>or <code>latest</code>ã€‚</p><p><code>disablerepo</code>ã€€ã€€#ä¸´æ—¶ç¦æ­¢ä½¿ç”¨yumåº“ã€‚ åªç”¨äºå®‰è£…æˆ–æ›´æ–°æ—¶ã€‚</p><p><code>enablerepo</code>ã€€ã€€#ä¸´æ—¶ä½¿ç”¨çš„yumåº“ã€‚åªç”¨äºå®‰è£…æˆ–æ›´æ–°æ—¶ã€‚</p></blockquote><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code>
<span class="token punctuation">[</span>root@admin ~<span class="token punctuation">]</span><span class="token comment">#  ansible web -m yum -a &#39;name=htop state=present&#39;</span>
<span class="token number">192.168</span>.0.8 <span class="token operator">|</span> CHANGED <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token punctuation">{</span>
    <span class="token string">&quot;ansible_facts&quot;</span><span class="token builtin class-name">:</span> <span class="token punctuation">{</span>
        <span class="token string">&quot;discovered_interpreter_python&quot;</span><span class="token builtin class-name">:</span> <span class="token string">&quot;/usr/bin/python&quot;</span>
    <span class="token punctuation">}</span>,
    <span class="token string">&quot;changed&quot;</span><span class="token builtin class-name">:</span> true,
    <span class="token string">&quot;changes&quot;</span><span class="token builtin class-name">:</span> <span class="token punctuation">{</span>
        <span class="token string">&quot;installed&quot;</span><span class="token builtin class-name">:</span> <span class="token punctuation">[</span>
            <span class="token string">&quot;htop&quot;</span>
        <span class="token punctuation">]</span>
    <span class="token punctuation">}</span>,
    <span class="token string">&quot;msg&quot;</span><span class="token builtin class-name">:</span> <span class="token string">&quot;&quot;</span>,
    <span class="token string">&quot;rc&quot;</span><span class="token builtin class-name">:</span> <span class="token number">0</span>,
    <span class="token string">&quot;results&quot;</span><span class="token builtin class-name">:</span> <span class="token punctuation">[</span>
        <span class="token string">&quot;Loaded plugins: fastestmirror, langpacks<span class="token entity" title="\n">\n</span>Loading mirror speeds from cached hostfile<span class="token entity" title="\n">\n</span> * base: ftp.sjtu.edu.cn<span class="token entity" title="\n">\n</span> * epel: ftp.riken.jp<span class="token entity" title="\n">\n</span> * extras: mirror.lzu.edu.cn<span class="token entity" title="\n">\n</span> * updates: ftp.sjtu.edu.cn<span class="token entity" title="\n">\n</span>Resolving Dependencies<span class="token entity" title="\n">\n</span>--&gt; Running transaction check<span class="token entity" title="\n">\n</span>---&gt; Package htop.x86_64 0:2.2.0-3.el7 will be installed<span class="token entity" title="\n">\n</span>--&gt; Finished Dependency Resolution<span class="token entity" title="\n">\n</span><span class="token entity" title="\n">\n</span>Dependencies Resolved<span class="token entity" title="\n">\n</span><span class="token entity" title="\n">\n</span>================================================================================<span class="token entity" title="\n">\n</span> Package         Arch              Version                Repository       Size<span class="token entity" title="\n">\n</span>================================================================================<span class="token entity" title="\n">\n</span>Installing:<span class="token entity" title="\n">\n</span> htop            x86_64            2.2.0-3.el7            epel            103 k<span class="token entity" title="\n">\n</span><span class="token entity" title="\n">\n</span>Transaction Summary<span class="token entity" title="\n">\n</span>================================================================================<span class="token entity" title="\n">\n</span>Install  1 Package<span class="token entity" title="\n">\n</span><span class="token entity" title="\n">\n</span>Total download size: 103 k<span class="token entity" title="\n">\n</span>Installed size: 218 k<span class="token entity" title="\n">\n</span>Downloading packages:<span class="token entity" title="\n">\n</span>Running transaction check<span class="token entity" title="\n">\n</span>Running transaction test<span class="token entity" title="\n">\n</span>Transaction test succeeded<span class="token entity" title="\n">\n</span>Running transaction<span class="token entity" title="\n">\n</span>  Installing : htop-2.2.0-3.el7.x86_64                                      1/1 <span class="token entity" title="\n">\n</span>  Verifying  : htop-2.2.0-3.el7.x86_64                                      1/1 <span class="token entity" title="\n">\n</span><span class="token entity" title="\n">\n</span>Installed:<span class="token entity" title="\n">\n</span>  htop.x86_64 0:2.2.0-3.el7                                                     <span class="token entity" title="\n">\n</span><span class="token entity" title="\n">\n</span>Complete!<span class="token entity" title="\n">\n</span>&quot;</span>
    <span class="token punctuation">]</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="service-æ¨¡å—-æœåŠ¡ç¨‹åºçš„ç®¡ç†" tabindex="-1"><a class="header-anchor" href="#service-æ¨¡å—-æœåŠ¡ç¨‹åºçš„ç®¡ç†" aria-hidden="true">#</a> service æ¨¡å—ï¼ˆæœåŠ¡ç¨‹åºçš„ç®¡ç†ï¼‰</h3><p>è¯¥æ¨¡å—ç”¨äºæœåŠ¡ç¨‹åºçš„ç®¡ç†ã€‚ ã€€å…¶ä¸»è¦é€‰é¡¹å¦‚ä¸‹ï¼š</p><blockquote><p><code>arguments</code> #å‘½ä»¤è¡Œæä¾›é¢å¤–çš„å‚æ•°</p><p><code>enabled</code> #è®¾ç½®å¼€æœºå¯åŠ¨ã€‚</p><p><code>name=</code> #æœåŠ¡åç§°</p><p><code>runlevel</code> #å¼€æœºå¯åŠ¨çš„çº§åˆ«ï¼Œä¸€èˆ¬ä¸ç”¨æŒ‡å®šã€‚</p><p><code>sleep</code> #åœ¨é‡å¯æœåŠ¡çš„è¿‡ç¨‹ä¸­ï¼Œæ˜¯å¦ç­‰å¾…ã€‚å¦‚åœ¨æœåŠ¡å…³é—­ä»¥åç­‰å¾…2ç§’å†å¯åŠ¨ã€‚(å®šä¹‰åœ¨å‰§æœ¬ä¸­ã€‚)</p><p><code>state</code> #æœ‰å››ç§çŠ¶æ€ï¼Œåˆ†åˆ«ä¸ºï¼š<code>started</code>---&gt;å¯åŠ¨æœåŠ¡ï¼Œ <code>stopped</code>---&gt;åœæ­¢æœåŠ¡ï¼Œ <code>restarted</code>---&gt;é‡å¯æœåŠ¡ï¼Œ <code>reloaded</code>---&gt;é‡è½½é…ç½®</p></blockquote><h4 id="_1-å¼€å¯æœåŠ¡å¹¶è®¾ç½®è‡ªå¯åŠ¨" tabindex="-1"><a class="header-anchor" href="#_1-å¼€å¯æœåŠ¡å¹¶è®¾ç½®è‡ªå¯åŠ¨" aria-hidden="true">#</a> â‘  å¼€å¯æœåŠ¡å¹¶è®¾ç½®è‡ªå¯åŠ¨</h4><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token punctuation">[</span>root@admin ~<span class="token punctuation">]</span><span class="token comment"># ansible web -m service -a &#39;name=nginx state=started enabled=true&#39; </span>
<span class="token number">192.168</span>.0.8 <span class="token operator">|</span> SUCCESS <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token punctuation">{</span>
    <span class="token string">&quot;changed&quot;</span><span class="token builtin class-name">:</span> true, 
    <span class="token string">&quot;enabled&quot;</span><span class="token builtin class-name">:</span> true, 
    <span class="token string">&quot;name&quot;</span><span class="token builtin class-name">:</span> <span class="token string">&quot;nginx&quot;</span>, 
    <span class="token string">&quot;state&quot;</span><span class="token builtin class-name">:</span> <span class="token string">&quot;started&quot;</span>, 
    â€¦â€¦
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>ç«¯å£æ˜¯å¦æ‰“å¼€ï¼š</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token punctuation">[</span>root@admin ~<span class="token punctuation">]</span><span class="token comment"># ansible web -m shell -a &#39;ss -ntl&#39;</span>
<span class="token number">192.168</span>.0.8 <span class="token operator">|</span> SUCCESS <span class="token operator">|</span> <span class="token assign-left variable">rc</span><span class="token operator">=</span><span class="token number">0</span> <span class="token operator">&gt;&gt;</span>
State      Recv-Q Send-Q Local Address:Port               Peer Address:Port              
LISTEN     <span class="token number">0</span>      <span class="token number">128</span>          *:80                       *:*                                 
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>å¯ä»¥çœ‹å‡ºæˆ‘ä»¬çš„80ç«¯å£å·²ç»æ‰“å¼€ã€‚</p><h4 id="_2-å…³é—­æœåŠ¡" tabindex="-1"><a class="header-anchor" href="#_2-å…³é—­æœåŠ¡" aria-hidden="true">#</a> â‘¡ å…³é—­æœåŠ¡</h4><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token punctuation">[</span>root@admin ~<span class="token punctuation">]</span><span class="token comment"># ansible web -m service -a &#39;name=nginx state=stopped&#39;</span>
<span class="token number">192.168</span>.0.8 <span class="token operator">|</span> SUCCESS <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token punctuation">{</span>
    <span class="token string">&quot;changed&quot;</span><span class="token builtin class-name">:</span> true, 
    <span class="token string">&quot;name&quot;</span><span class="token builtin class-name">:</span> <span class="token string">&quot;nginx&quot;</span>, 
    <span class="token string">&quot;state&quot;</span><span class="token builtin class-name">:</span> <span class="token string">&quot;stopped&quot;</span>, 
	â€¦â€¦
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>æ¥æŸ¥çœ‹ä¸€ä¸‹ç«¯å£ï¼š</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token punctuation">[</span>root@admin ~<span class="token punctuation">]</span><span class="token comment"># ansible web -m shell -a &#39;ss -ntl | grep 80&#39;</span>
<span class="token number">192.168</span>.0.8 <span class="token operator">|</span> FAILED <span class="token operator">|</span> <span class="token assign-left variable">rc</span><span class="token operator">=</span><span class="token number">1</span> <span class="token operator">&gt;&gt;</span>
non-zero <span class="token builtin class-name">return</span> code
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="user-æ¨¡å—-ç®¡ç†ç”¨æˆ·è´¦å·" tabindex="-1"><a class="header-anchor" href="#user-æ¨¡å—-ç®¡ç†ç”¨æˆ·è´¦å·" aria-hidden="true">#</a> user æ¨¡å—ï¼ˆç®¡ç†ç”¨æˆ·è´¦å·ï¼‰</h3><p>è¯¥æ¨¡å—ä¸»è¦æ˜¯ç”¨æ¥ç®¡ç†ç”¨æˆ·è´¦å·ã€‚</p><p>å…¶ä¸»è¦é€‰é¡¹å¦‚ä¸‹ï¼š</p><blockquote><p><code>comment</code>ã€€ã€€# ç”¨æˆ·çš„æè¿°ä¿¡æ¯</p><p><code>createhome</code>ã€€ã€€# æ˜¯å¦åˆ›å»ºå®¶ç›®å½•</p><p><code>force</code>ã€€ã€€# åœ¨ä½¿ç”¨state=absentæ—¶, è¡Œä¸ºä¸userdel â€“forceä¸€è‡´.</p><p><code>group</code>ã€€ã€€# æŒ‡å®šåŸºæœ¬ç»„</p><p><code>groups</code>ã€€ã€€# æŒ‡å®šé™„åŠ ç»„ï¼Œå¦‚æœæŒ‡å®šä¸º(groups=)è¡¨ç¤ºåˆ é™¤æ‰€æœ‰ç»„</p><p><code>home</code>ã€€ã€€# æŒ‡å®šç”¨æˆ·å®¶ç›®å½•</p><p><code>move_home</code>ã€€ã€€# å¦‚æœè®¾ç½®ä¸ºhome=æ—¶, è¯•å›¾å°†ç”¨æˆ·ä¸»ç›®å½•ç§»åŠ¨åˆ°æŒ‡å®šçš„ç›®å½•</p><p><code>name</code>ã€€ã€€# æŒ‡å®šç”¨æˆ·å</p><p><code>non_unique</code>ã€€ã€€# è¯¥é€‰é¡¹å…è®¸æ”¹å˜éå”¯ä¸€çš„ç”¨æˆ·IDå€¼</p><p><code>password</code>ã€€ã€€# æŒ‡å®šç”¨æˆ·å¯†ç </p><p><code>remove</code>ã€€ã€€# åœ¨ä½¿ç”¨state=absentæ—¶, è¡Œä¸ºæ˜¯ä¸userdel â€“removeä¸€è‡´</p><p><code>shell</code>ã€€ã€€# æŒ‡å®šé»˜è®¤shell</p><p><code>state</code>ã€€ã€€# è®¾ç½®å¸å·çŠ¶æ€ï¼Œä¸æŒ‡å®šä¸ºåˆ›å»ºï¼ŒæŒ‡å®šå€¼ä¸ºabsentè¡¨ç¤ºåˆ é™¤</p><p><code>system</code>ã€€ã€€# å½“åˆ›å»ºä¸€ä¸ªç”¨æˆ·ï¼Œè®¾ç½®è¿™ä¸ªç”¨æˆ·æ˜¯ç³»ç»Ÿç”¨æˆ·ã€‚è¿™ä¸ªè®¾ç½®ä¸èƒ½æ›´æ”¹ç°æœ‰ç”¨æˆ·</p><p><code>uid</code>ã€€ã€€# æŒ‡å®šç”¨æˆ·çš„uid</p></blockquote><h4 id="_1-æ·»åŠ ä¸€ä¸ªç”¨æˆ·å¹¶æŒ‡å®šå…¶-uid" tabindex="-1"><a class="header-anchor" href="#_1-æ·»åŠ ä¸€ä¸ªç”¨æˆ·å¹¶æŒ‡å®šå…¶-uid" aria-hidden="true">#</a> â‘  æ·»åŠ ä¸€ä¸ªç”¨æˆ·å¹¶æŒ‡å®šå…¶ uid</h4><div class="language-smalltalk line-numbers-mode" data-ext="smalltalk"><pre class="language-smalltalk"><code><span class="token punctuation">[</span>root<span class="token operator">@</span>admin ~<span class="token punctuation">]</span># ansible web <span class="token operator">-</span>m user <span class="token operator">-</span>a <span class="token string">&#39;name=a2 uid=11111&#39;</span>
<span class="token number">192.168</span><span class="token punctuation">.</span><span class="token number">0.8</span> <span class="token operator">|</span> CHANGED <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token punctuation">{</span>
    <span class="token comment">&quot;ansible_facts&quot;</span><span class="token punctuation">:</span> <span class="token punctuation">{</span>
        <span class="token comment">&quot;discovered_interpreter_python&quot;</span><span class="token punctuation">:</span> <span class="token comment">&quot;/usr/bin/python&quot;</span>
    <span class="token punctuation">}</span><span class="token operator">,</span>
    <span class="token comment">&quot;changed&quot;</span><span class="token punctuation">:</span> <span class="token boolean">true</span><span class="token operator">,</span>
    <span class="token comment">&quot;comment&quot;</span><span class="token punctuation">:</span> <span class="token comment">&quot;&quot;</span><span class="token operator">,</span>
    <span class="token comment">&quot;create_home&quot;</span><span class="token punctuation">:</span> <span class="token boolean">true</span><span class="token operator">,</span>
    <span class="token comment">&quot;group&quot;</span><span class="token punctuation">:</span> <span class="token number">11111</span><span class="token operator">,</span>
    <span class="token comment">&quot;home&quot;</span><span class="token punctuation">:</span> <span class="token comment">&quot;/home/a2&quot;</span><span class="token operator">,</span>
    <span class="token comment">&quot;name&quot;</span><span class="token punctuation">:</span> <span class="token comment">&quot;a2&quot;</span><span class="token operator">,</span>
    <span class="token comment">&quot;shell&quot;</span><span class="token punctuation">:</span> <span class="token comment">&quot;/bin/bash&quot;</span><span class="token operator">,</span>
    <span class="token comment">&quot;state&quot;</span><span class="token punctuation">:</span> <span class="token comment">&quot;present&quot;</span><span class="token operator">,</span>
    <span class="token comment">&quot;system&quot;</span><span class="token punctuation">:</span> <span class="token boolean">false</span><span class="token operator">,</span>
    <span class="token comment">&quot;uid&quot;</span><span class="token punctuation">:</span> <span class="token number">11111</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>æ·»åŠ å®Œæˆï¼Œæˆ‘ä»¬å¯ä»¥å»æŸ¥çœ‹ä¸€ä¸‹ï¼š</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token punctuation">[</span>root@admin ~<span class="token punctuation">]</span><span class="token comment"># ansible web -m shell -a &#39;cat /etc/passwd |grep a2&#39;</span>
<span class="token number">192.168</span>.0.8 <span class="token operator">|</span> CHANGED <span class="token operator">|</span> <span class="token assign-left variable">rc</span><span class="token operator">=</span><span class="token number">0</span> <span class="token operator">&gt;&gt;</span>
a2:x:11111:11111::/home/a2:/bin/bash
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="_2-åˆ é™¤ç”¨æˆ·" tabindex="-1"><a class="header-anchor" href="#_2-åˆ é™¤ç”¨æˆ·" aria-hidden="true">#</a> â‘¡ åˆ é™¤ç”¨æˆ·</h4><div class="language-dart line-numbers-mode" data-ext="dart"><pre class="language-dart"><code><span class="token punctuation">[</span>root<span class="token metadata function">@admin</span> <span class="token operator">~</span><span class="token punctuation">]</span># ansible web <span class="token operator">-</span>m user <span class="token operator">-</span>a <span class="token string-literal"><span class="token string">&#39;name=a2 state=absent&#39;</span></span>
<span class="token number">192.168</span><span class="token number">.0</span><span class="token number">.8</span> <span class="token operator">|</span> CHANGED <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token punctuation">{</span>
    <span class="token string-literal"><span class="token string">&quot;ansible_facts&quot;</span></span><span class="token punctuation">:</span> <span class="token punctuation">{</span>
        <span class="token string-literal"><span class="token string">&quot;discovered_interpreter_python&quot;</span></span><span class="token punctuation">:</span> <span class="token string-literal"><span class="token string">&quot;/usr/bin/python&quot;</span></span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token string-literal"><span class="token string">&quot;changed&quot;</span></span><span class="token punctuation">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
    <span class="token string-literal"><span class="token string">&quot;force&quot;</span></span><span class="token punctuation">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
    <span class="token string-literal"><span class="token string">&quot;name&quot;</span></span><span class="token punctuation">:</span> <span class="token string-literal"><span class="token string">&quot;a2&quot;</span></span><span class="token punctuation">,</span>
    <span class="token string-literal"><span class="token string">&quot;remove&quot;</span></span><span class="token punctuation">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
    <span class="token string-literal"><span class="token string">&quot;state&quot;</span></span><span class="token punctuation">:</span> <span class="token string-literal"><span class="token string">&quot;absent&quot;</span></span>
<span class="token punctuation">}</span>

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>ä¸€æ ·çš„ï¼Œåˆ é™¤ä¹‹åï¼Œæˆ‘ä»¬å»çœ‹ä¸€ä¸‹ï¼š</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token punctuation">[</span>root@admin ~<span class="token punctuation">]</span><span class="token comment"># ansible web -m shell -a &#39;cat /etc/passwd |grep a2&#39;</span>
<span class="token number">192.168</span>.0.8 <span class="token operator">|</span> FAILED <span class="token operator">|</span> <span class="token assign-left variable">rc</span><span class="token operator">=</span><span class="token number">1</span> <span class="token operator">&gt;&gt;</span>
non-zero <span class="token builtin class-name">return</span> code
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>å‘ç°å·²ç»æ²¡æœ‰è¿™ä¸ªç”¨æˆ·äº†ã€‚</p><h3 id="group-æ¨¡å—-æ·»åŠ æˆ–åˆ é™¤ç»„" tabindex="-1"><a class="header-anchor" href="#group-æ¨¡å—-æ·»åŠ æˆ–åˆ é™¤ç»„" aria-hidden="true">#</a> group æ¨¡å—ï¼ˆæ·»åŠ æˆ–åˆ é™¤ç»„ï¼‰</h3><p>è¯¥æ¨¡å—ä¸»è¦ç”¨äºæ·»åŠ æˆ–åˆ é™¤ç»„ã€‚</p><p>å¸¸ç”¨çš„é€‰é¡¹å¦‚ä¸‹ï¼š</p><blockquote><p><code>gid=</code>ã€€ã€€#è®¾ç½®ç»„çš„GIDå·</p><p><code>name=</code>ã€€ã€€#æŒ‡å®šç»„çš„åç§°</p><p><code>state=</code>ã€€ã€€#æŒ‡å®šç»„çš„çŠ¶æ€ï¼Œé»˜è®¤ä¸ºåˆ›å»ºï¼Œè®¾ç½®å€¼ä¸º<code>absent</code>ä¸ºåˆ é™¤</p><p><code>system=</code>ã€€ã€€#è®¾ç½®å€¼ä¸º<code>yes</code>ï¼Œè¡¨ç¤ºåˆ›å»ºä¸ºç³»ç»Ÿç»„</p></blockquote><h4 id="_1-åˆ›å»ºç»„" tabindex="-1"><a class="header-anchor" href="#_1-åˆ›å»ºç»„" aria-hidden="true">#</a> â‘  åˆ›å»ºç»„</h4><div class="language-dart line-numbers-mode" data-ext="dart"><pre class="language-dart"><code><span class="token punctuation">[</span>root<span class="token metadata function">@admin</span> <span class="token operator">~</span><span class="token punctuation">]</span># ansible web <span class="token operator">-</span>m group <span class="token operator">-</span>a <span class="token string-literal"><span class="token string">&#39;name=a2 gid=12222&#39;</span></span>
<span class="token number">192.168</span><span class="token number">.0</span><span class="token number">.8</span> <span class="token operator">|</span> CHANGED <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token punctuation">{</span>
    <span class="token string-literal"><span class="token string">&quot;ansible_facts&quot;</span></span><span class="token punctuation">:</span> <span class="token punctuation">{</span>
        <span class="token string-literal"><span class="token string">&quot;discovered_interpreter_python&quot;</span></span><span class="token punctuation">:</span> <span class="token string-literal"><span class="token string">&quot;/usr/bin/python&quot;</span></span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token string-literal"><span class="token string">&quot;changed&quot;</span></span><span class="token punctuation">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
    <span class="token string-literal"><span class="token string">&quot;gid&quot;</span></span><span class="token punctuation">:</span> <span class="token number">12222</span><span class="token punctuation">,</span>
    <span class="token string-literal"><span class="token string">&quot;name&quot;</span></span><span class="token punctuation">:</span> <span class="token string-literal"><span class="token string">&quot;dd&quot;</span></span><span class="token punctuation">,</span>
    <span class="token string-literal"><span class="token string">&quot;state&quot;</span></span><span class="token punctuation">:</span> <span class="token string-literal"><span class="token string">&quot;present&quot;</span></span><span class="token punctuation">,</span>
    <span class="token string-literal"><span class="token string">&quot;system&quot;</span></span><span class="token punctuation">:</span> <span class="token boolean">false</span>
<span class="token punctuation">}</span>

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>åˆ›å»ºè¿‡åï¼Œæˆ‘ä»¬æ¥æŸ¥çœ‹ä¸€ä¸‹ï¼š</p><div class="language-makefile line-numbers-mode" data-ext="makefile"><pre class="language-makefile"><code>[root<span class="token operator">@</span>admin ~]<span class="token comment"># ansible web -m shell -a &#39;cat /etc/group | grep 12222&#39;</span>
192.168.0.8 <span class="token operator">|</span> CHANGED <span class="token operator">|</span> rc<span class="token operator">=</span>0 &gt;&gt;
<span class="token target symbol">a2</span><span class="token punctuation">:</span>x<span class="token punctuation">:</span>12222<span class="token punctuation">:</span>

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>å¯ä»¥çœ‹å‡ºï¼Œæˆ‘ä»¬çš„ç»„å·²ç»åˆ›å»ºæˆåŠŸäº†ã€‚</p><h4 id="_2-åˆ é™¤ç»„" tabindex="-1"><a class="header-anchor" href="#_2-åˆ é™¤ç»„" aria-hidden="true">#</a> â‘¡ åˆ é™¤ç»„</h4><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token punctuation">[</span>root@admin ~<span class="token punctuation">]</span><span class="token comment"># ansible web -m group -a &#39;name=a2 state=absent&#39;</span>
<span class="token number">192.168</span>.0.8 <span class="token operator">|</span> CHANGED <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token punctuation">{</span>
    <span class="token string">&quot;ansible_facts&quot;</span><span class="token builtin class-name">:</span> <span class="token punctuation">{</span>
        <span class="token string">&quot;discovered_interpreter_python&quot;</span><span class="token builtin class-name">:</span> <span class="token string">&quot;/usr/bin/python&quot;</span>
    <span class="token punctuation">}</span>,
    <span class="token string">&quot;changed&quot;</span><span class="token builtin class-name">:</span> true,
    <span class="token string">&quot;name&quot;</span><span class="token builtin class-name">:</span> <span class="token string">&quot;a2&quot;</span>,
    <span class="token string">&quot;state&quot;</span><span class="token builtin class-name">:</span> <span class="token string">&quot;absent&quot;</span>
<span class="token punctuation">}</span>

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>ç…§ä¾‹æŸ¥çœ‹ä¸€ä¸‹ï¼š</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token punctuation">[</span>root@admin ~<span class="token punctuation">]</span><span class="token comment"># ansible web -m shell -a &#39;cat /etc/group | grep 12222&#39;</span>
<span class="token number">192.168</span>.0.8 <span class="token operator">|</span> FAILED <span class="token operator">|</span> <span class="token assign-left variable">rc</span><span class="token operator">=</span><span class="token number">1</span> <span class="token operator">&gt;&gt;</span>
non-zero <span class="token builtin class-name">return</span> code

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>å·²ç»æ²¡æœ‰è¿™ä¸ªç»„çš„ç›¸å…³ä¿¡æ¯äº†ã€‚</p><h3 id="script-æ¨¡å—-å°†æœ¬æœºçš„è„šæœ¬shåœ¨è¢«ç®¡ç†ç«¯çš„æœºå™¨ä¸Šè¿è¡Œ" tabindex="-1"><a class="header-anchor" href="#script-æ¨¡å—-å°†æœ¬æœºçš„è„šæœ¬shåœ¨è¢«ç®¡ç†ç«¯çš„æœºå™¨ä¸Šè¿è¡Œ" aria-hidden="true">#</a> script æ¨¡å—ï¼ˆå°†æœ¬æœºçš„è„šæœ¬shåœ¨è¢«ç®¡ç†ç«¯çš„æœºå™¨ä¸Šè¿è¡Œï¼‰</h3><p>è¯¥æ¨¡å—ç”¨äºå°†æœ¬æœºçš„è„šæœ¬åœ¨è¢«ç®¡ç†ç«¯çš„æœºå™¨ä¸Šè¿è¡Œã€‚</p><p>è¯¥æ¨¡å—ç›´æ¥æŒ‡å®šè„šæœ¬çš„è·¯å¾„å³å¯ï¼Œæˆ‘ä»¬é€šè¿‡ä¾‹å­æ¥çœ‹ä¸€çœ‹åˆ°åº•å¦‚ä½•ä½¿ç”¨çš„ï¼š</p><p>é¦–å…ˆï¼Œæˆ‘ä»¬å†™ä¸€ä¸ªè„šæœ¬ï¼Œå¹¶ç»™å…¶åŠ ä¸Šæ‰§è¡Œæƒé™ï¼š</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token punctuation">[</span>root@admin ~<span class="token punctuation">]</span><span class="token comment"># vim /root/df.sh</span>

<span class="token comment">#!/bin/bash</span>

<span class="token function">date</span> <span class="token operator">&gt;&gt;</span> /root/disk_total.log
<span class="token function">df</span> <span class="token parameter variable">-lh</span> <span class="token operator">&gt;&gt;</span> /root/disk_total.log
	
<span class="token punctuation">[</span>root@admin ~<span class="token punctuation">]</span><span class="token comment"># chmod +x /root/df.sh </span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>ç„¶åï¼Œæˆ‘ä»¬ç›´æ¥è¿è¡Œå‘½ä»¤æ¥å®ç°åœ¨è¢«ç®¡ç†ç«¯æ‰§è¡Œè¯¥è„šæœ¬ï¼š</p><div class="language-swift line-numbers-mode" data-ext="swift"><pre class="language-swift"><code><span class="token punctuation">[</span>root<span class="token attribute atrule">@admin</span> <span class="token operator">~</span><span class="token punctuation">]</span># ansible web <span class="token operator">-</span>m script <span class="token operator">-</span>a &#39;<span class="token operator">/</span>root<span class="token operator">/</span>df<span class="token punctuation">.</span>sh&#39;
<span class="token number">192.168</span><span class="token punctuation">.</span><span class="token number">0.8</span> <span class="token operator">|</span> <span class="token constant">CHANGED</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token string-literal"><span class="token string">&quot;changed&quot;</span></span><span class="token punctuation">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
    <span class="token string-literal"><span class="token string">&quot;rc&quot;</span></span><span class="token punctuation">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
    <span class="token string-literal"><span class="token string">&quot;stderr&quot;</span></span><span class="token punctuation">:</span> <span class="token string-literal"><span class="token string">&quot;Shared connection to 192.168.0.8 closed.\r\n&quot;</span></span><span class="token punctuation">,</span>
    <span class="token string-literal"><span class="token string">&quot;stderr_lines&quot;</span></span><span class="token punctuation">:</span> <span class="token punctuation">[</span>
        <span class="token string-literal"><span class="token string">&quot;Shared connection to 192.168.0.8 closed.&quot;</span></span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token string-literal"><span class="token string">&quot;stdout&quot;</span></span><span class="token punctuation">:</span> <span class="token string-literal"><span class="token string">&quot;&quot;</span></span><span class="token punctuation">,</span>
    <span class="token string-literal"><span class="token string">&quot;stdout_lines&quot;</span></span><span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
<span class="token punctuation">}</span>

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>ç…§ä¾‹æŸ¥çœ‹ä¸€ä¸‹æ–‡ä»¶å†…å®¹ï¼š</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token punctuation">[</span>root@admin ~<span class="token punctuation">]</span><span class="token comment"># ansible web -m shell -a &#39;cat /root/disk_total.log&#39;</span>
<span class="token number">192.168</span>.0.8 <span class="token operator">|</span> CHANGED <span class="token operator">|</span> <span class="token assign-left variable">rc</span><span class="token operator">=</span><span class="token number">0</span> <span class="token operator">&gt;&gt;</span>
<span class="token number">2022</span>å¹´ 07æœˆ <span class="token number">28</span>æ—¥ æ˜ŸæœŸå›› <span class="token number">15</span>:23:35 CST
æ–‡ä»¶ç³»ç»Ÿ                 å®¹é‡  å·²ç”¨  å¯ç”¨ å·²ç”¨% æŒ‚è½½ç‚¹
devtmpfs                 <span class="token number">3</span>.8G     <span class="token number">0</span>  <span class="token number">3</span>.8G    <span class="token number">0</span>% /dev
tmpfs                    <span class="token number">3</span>.9G     <span class="token number">0</span>  <span class="token number">3</span>.9G    <span class="token number">0</span>% /dev/shm
tmpfs                    <span class="token number">3</span>.9G   12M  <span class="token number">3</span>.8G    <span class="token number">1</span>% /run
tmpfs                    <span class="token number">3</span>.9G     <span class="token number">0</span>  <span class="token number">3</span>.9G    <span class="token number">0</span>% /sys/fs/cgroup
/dev/mapper/centos-root   50G  <span class="token number">2</span>.9G   48G    <span class="token number">6</span>% /
/dev/sda1               1014M  199M  816M   <span class="token number">20</span>% /boot
/dev/mapper/centos-home  142G   33M  142G    <span class="token number">1</span>% /home
tmpfs 
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>å¯ä»¥çœ‹å‡ºå·²ç»æ‰§è¡ŒæˆåŠŸäº†ã€‚</p><h3 id="setup-æ¨¡å—-æ”¶é›†è¢«ç®¡ç†ä¸»æœºçš„ä¿¡æ¯" tabindex="-1"><a class="header-anchor" href="#setup-æ¨¡å—-æ”¶é›†è¢«ç®¡ç†ä¸»æœºçš„ä¿¡æ¯" aria-hidden="true">#</a> setup æ¨¡å—ï¼ˆæ”¶é›†è¢«ç®¡ç†ä¸»æœºçš„ä¿¡æ¯ï¼‰</h3><p>è¯¥æ¨¡å—ä¸»è¦ç”¨äºæ”¶é›†ä¿¡æ¯ï¼Œæ˜¯é€šè¿‡è°ƒç”¨factsç»„ä»¶æ¥å®ç°çš„ã€‚</p><p>facts ç»„ä»¶æ˜¯Ansibleç”¨äºé‡‡é›†è¢«ç®¡æœºå™¨è®¾å¤‡ä¿¡æ¯çš„ä¸€ä¸ªåŠŸèƒ½ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨setupæ¨¡å—æŸ¥æœºå™¨çš„æ‰€æœ‰factsä¿¡æ¯ï¼Œå¯ä»¥ä½¿ç”¨filteræ¥æŸ¥çœ‹æŒ‡å®šä¿¡æ¯ã€‚æ•´ä¸ªfactsä¿¡æ¯è¢«åŒ…è£…åœ¨ä¸€ä¸ªJSONæ ¼å¼çš„æ•°æ®ç»“æ„ä¸­ï¼Œansible_factsæ˜¯æœ€ä¸Šå±‚çš„å€¼ã€‚</p><p>facts å°±æ˜¯å˜é‡ï¼Œå†…å»ºå˜é‡ ã€‚æ¯ä¸ªä¸»æœºçš„å„ç§ä¿¡æ¯ï¼Œcpué¢—æ•°ã€å†…å­˜å¤§å°ç­‰ã€‚ä¼šå­˜åœ¨factsä¸­çš„æŸä¸ªå˜é‡ä¸­ã€‚è°ƒç”¨åè¿”å›å¾ˆå¤šå¯¹åº”ä¸»æœºçš„ä¿¡æ¯ï¼Œåœ¨åé¢çš„æ“ä½œä¸­å¯ä»¥æ ¹æ®ä¸åŒçš„ä¿¡æ¯æ¥åšä¸åŒçš„æ“ä½œã€‚å¦‚redhatç³»åˆ—ç”¨yumå®‰è£…ï¼Œè€Œdebianç³»åˆ—ç”¨aptæ¥å®‰è£…è½¯ä»¶ã€‚</p><h4 id="_1-æŸ¥çœ‹ä¿¡æ¯" tabindex="-1"><a class="header-anchor" href="#_1-æŸ¥çœ‹ä¿¡æ¯" aria-hidden="true">#</a> â‘  æŸ¥çœ‹ä¿¡æ¯</h4><div class="language-yaml line-numbers-mode" data-ext="yml"><pre class="language-yaml"><code><span class="token punctuation">[</span>root@admin ~<span class="token punctuation">]</span><span class="token comment"># ansible web -m setup -a &#39;filter=&quot;*mem*&quot;&#39;</span>
192.168.0.8 <span class="token punctuation">|</span> SUCCESS =<span class="token punctuation">&gt;</span> <span class="token punctuation">{</span>
    <span class="token key atrule">&quot;ansible_facts&quot;</span><span class="token punctuation">:</span> <span class="token punctuation">{</span>
        <span class="token key atrule">&quot;ansible_memfree_mb&quot;</span><span class="token punctuation">:</span> <span class="token number">7068</span><span class="token punctuation">,</span>
        <span class="token key atrule">&quot;ansible_memory_mb&quot;</span><span class="token punctuation">:</span> <span class="token punctuation">{</span>
            <span class="token key atrule">&quot;nocache&quot;</span><span class="token punctuation">:</span> <span class="token punctuation">{</span>
                <span class="token key atrule">&quot;free&quot;</span><span class="token punctuation">:</span> <span class="token number">7456</span><span class="token punctuation">,</span>
                <span class="token key atrule">&quot;used&quot;</span><span class="token punctuation">:</span> <span class="token number">346</span>
            <span class="token punctuation">}</span><span class="token punctuation">,</span>
            <span class="token key atrule">&quot;real&quot;</span><span class="token punctuation">:</span> <span class="token punctuation">{</span>
                <span class="token key atrule">&quot;free&quot;</span><span class="token punctuation">:</span> <span class="token number">7068</span><span class="token punctuation">,</span>
                <span class="token key atrule">&quot;total&quot;</span><span class="token punctuation">:</span> <span class="token number">7802</span><span class="token punctuation">,</span>
                <span class="token key atrule">&quot;used&quot;</span><span class="token punctuation">:</span> <span class="token number">734</span>
            <span class="token punctuation">}</span><span class="token punctuation">,</span>
            <span class="token key atrule">&quot;swap&quot;</span><span class="token punctuation">:</span> <span class="token punctuation">{</span>
                <span class="token key atrule">&quot;cached&quot;</span><span class="token punctuation">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
                <span class="token key atrule">&quot;free&quot;</span><span class="token punctuation">:</span> <span class="token number">8063</span><span class="token punctuation">,</span>
                <span class="token key atrule">&quot;total&quot;</span><span class="token punctuation">:</span> <span class="token number">8063</span><span class="token punctuation">,</span>
                <span class="token key atrule">&quot;used&quot;</span><span class="token punctuation">:</span> <span class="token number">0</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token key atrule">&quot;ansible_memtotal_mb&quot;</span><span class="token punctuation">:</span> <span class="token number">7802</span><span class="token punctuation">,</span>
        <span class="token key atrule">&quot;discovered_interpreter_python&quot;</span><span class="token punctuation">:</span> <span class="token string">&quot;/usr/bin/python&quot;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token key atrule">&quot;changed&quot;</span><span class="token punctuation">:</span> <span class="token boolean important">false</span>
<span class="token punctuation">}</span>

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>æˆ‘ä»¬å¯ä»¥é€šè¿‡å‘½ä»¤æŸ¥çœ‹ä¸€ä¸‹å†…å­˜çš„å¤§å°ä»¥ç¡®è®¤ä¸€ä¸‹æ˜¯å¦ä¸€è‡´ï¼š</p><div class="language-yaml line-numbers-mode" data-ext="yml"><pre class="language-yaml"><code><span class="token punctuation">[</span>root@admin ~<span class="token punctuation">]</span><span class="token comment"># ansible web -m shell -a &#39;free -m&#39;</span>


192.168.0.8 <span class="token punctuation">|</span> CHANGED <span class="token punctuation">|</span> rc=0 <span class="token punctuation">&gt;</span><span class="token punctuation">&gt;</span>
              total        used        free      shared  buff/cache   available
<span class="token key atrule">Mem</span><span class="token punctuation">:</span>           7802         309        7067          11         426        7247
<span class="token key atrule">Swap</span><span class="token punctuation">:</span>          8063           0        8063

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>å¯ä»¥çœ‹å‡ºä¿¡æ¯æ˜¯ä¸€è‡´çš„ã€‚</p><h4 id="_2-ä¿å­˜ä¿¡æ¯" tabindex="-1"><a class="header-anchor" href="#_2-ä¿å­˜ä¿¡æ¯" aria-hidden="true">#</a> â‘¡ ä¿å­˜ä¿¡æ¯</h4><p>æˆ‘ä»¬çš„setupæ¨¡å—è¿˜æœ‰ä¸€ä¸ªå¾ˆå¥½ç”¨çš„åŠŸèƒ½å°±æ˜¯å¯ä»¥ä¿å­˜æˆ‘ä»¬æ‰€ç­›é€‰çš„ä¿¡æ¯è‡³æˆ‘ä»¬çš„ä¸»æœºä¸Šï¼ŒåŒæ—¶ï¼Œæ–‡ä»¶åä¸ºæˆ‘ä»¬è¢«ç®¡åˆ¶çš„ä¸»æœºçš„IPï¼Œè¿™æ ·æ–¹ä¾¿æˆ‘ä»¬çŸ¥é“æ˜¯å“ªå°æœºå™¨å‡ºçš„é—®é¢˜ã€‚</p><div class="language-yaml line-numbers-mode" data-ext="yml"><pre class="language-yaml"><code><span class="token punctuation">[</span>root@admin ~<span class="token punctuation">]</span><span class="token comment"># ansible web -m setup -a &#39;filter=&quot;*mem*&quot;&#39; --tree /root/facts</span>
192.168.0.8 <span class="token punctuation">|</span> SUCCESS =<span class="token punctuation">&gt;</span> <span class="token punctuation">{</span>
    <span class="token key atrule">&quot;ansible_facts&quot;</span><span class="token punctuation">:</span> <span class="token punctuation">{</span>
        <span class="token key atrule">&quot;ansible_memfree_mb&quot;</span><span class="token punctuation">:</span> <span class="token number">7064</span><span class="token punctuation">,</span>
        <span class="token key atrule">&quot;ansible_memory_mb&quot;</span><span class="token punctuation">:</span> <span class="token punctuation">{</span>
            <span class="token key atrule">&quot;nocache&quot;</span><span class="token punctuation">:</span> <span class="token punctuation">{</span>
                <span class="token key atrule">&quot;free&quot;</span><span class="token punctuation">:</span> <span class="token number">7454</span><span class="token punctuation">,</span>
                <span class="token key atrule">&quot;used&quot;</span><span class="token punctuation">:</span> <span class="token number">348</span>
            <span class="token punctuation">}</span><span class="token punctuation">,</span>
            <span class="token key atrule">&quot;real&quot;</span><span class="token punctuation">:</span> <span class="token punctuation">{</span>
                <span class="token key atrule">&quot;free&quot;</span><span class="token punctuation">:</span> <span class="token number">7064</span><span class="token punctuation">,</span>
                <span class="token key atrule">&quot;total&quot;</span><span class="token punctuation">:</span> <span class="token number">7802</span><span class="token punctuation">,</span>
                <span class="token key atrule">&quot;used&quot;</span><span class="token punctuation">:</span> <span class="token number">738</span>
            <span class="token punctuation">}</span><span class="token punctuation">,</span>
            <span class="token key atrule">&quot;swap&quot;</span><span class="token punctuation">:</span> <span class="token punctuation">{</span>
                <span class="token key atrule">&quot;cached&quot;</span><span class="token punctuation">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
                <span class="token key atrule">&quot;free&quot;</span><span class="token punctuation">:</span> <span class="token number">8063</span><span class="token punctuation">,</span>
                <span class="token key atrule">&quot;total&quot;</span><span class="token punctuation">:</span> <span class="token number">8063</span><span class="token punctuation">,</span>
                <span class="token key atrule">&quot;used&quot;</span><span class="token punctuation">:</span> <span class="token number">0</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token key atrule">&quot;ansible_memtotal_mb&quot;</span><span class="token punctuation">:</span> <span class="token number">7802</span><span class="token punctuation">,</span>
        <span class="token key atrule">&quot;discovered_interpreter_python&quot;</span><span class="token punctuation">:</span> <span class="token string">&quot;/usr/bin/python&quot;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token key atrule">&quot;changed&quot;</span><span class="token punctuation">:</span> <span class="token boolean important">false</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>ç„¶åæˆ‘ä»¬å¯ä»¥å»æŸ¥çœ‹ä¸€ä¸‹ï¼š</p><div class="language-yaml line-numbers-mode" data-ext="yml"><pre class="language-yaml"><code><span class="token punctuation">[</span>root@admin ~<span class="token punctuation">]</span><span class="token comment"># cd /root/facts/</span>
<span class="token punctuation">[</span>root@admin facts<span class="token punctuation">]</span><span class="token comment">#</span>
<span class="token punctuation">[</span>root@admin facts<span class="token punctuation">]</span><span class="token comment"># cat 192.168.0.8</span>
<span class="token punctuation">{</span><span class="token key atrule">&quot;ansible_facts&quot;</span><span class="token punctuation">:</span> <span class="token punctuation">{</span><span class="token key atrule">&quot;ansible_memfree_mb&quot;</span><span class="token punctuation">:</span> <span class="token number">7064</span><span class="token punctuation">,</span> <span class="token key atrule">&quot;ansible_memory_mb&quot;</span><span class="token punctuation">:</span> <span class="token punctuation">{</span><span class="token key atrule">&quot;nocache&quot;</span><span class="token punctuation">:</span> <span class="token punctuation">{</span><span class="token key atrule">&quot;free&quot;</span><span class="token punctuation">:</span> <span class="token number">7454</span><span class="token punctuation">,</span> <span class="token key atrule">&quot;used&quot;</span><span class="token punctuation">:</span> <span class="token number">348</span><span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token key atrule">&quot;real&quot;</span><span class="token punctuation">:</span> <span class="token punctuation">{</span><span class="token key atrule">&quot;free&quot;</span><span class="token punctuation">:</span> <span class="token number">7064</span><span class="token punctuation">,</span> <span class="token key atrule">&quot;total&quot;</span><span class="token punctuation">:</span> <span class="token number">7802</span><span class="token punctuation">,</span> <span class="token key atrule">&quot;used&quot;</span><span class="token punctuation">:</span> <span class="token number">738</span><span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token key atrule">&quot;swap&quot;</span><span class="token punctuation">:</span> <span class="token punctuation">{</span><span class="token key atrule">&quot;cached&quot;</span><span class="token punctuation">:</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token key atrule">&quot;free&quot;</span><span class="token punctuation">:</span> <span class="token number">8063</span><span class="token punctuation">,</span> <span class="token key atrule">&quot;total&quot;</span><span class="token punctuation">:</span> <span class="token number">8063</span><span class="token punctuation">,</span> <span class="token key atrule">&quot;used&quot;</span><span class="token punctuation">:</span> <span class="token number">0</span><span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token key atrule">&quot;ansible_memtotal_mb&quot;</span><span class="token punctuation">:</span> <span class="token number">7802</span><span class="token punctuation">,</span> <span class="token key atrule">&quot;discovered_interpreter_python&quot;</span><span class="token punctuation">:</span> <span class="token string">&quot;/usr/bin/python&quot;</span><span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token key atrule">&quot;changed&quot;</span><span class="token punctuation">:</span> <span class="token boolean important">false</span><span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></div><!----><footer class="page-meta"><div class="meta-item edit-link"><a href="https://github.com/topjf/topjf/edit/main/docs/linux/ansible/ansible.md" rel="noopener noreferrer" target="_blank" aria-label="ç¼–è¾‘æ­¤é¡µ" class="nav-link label"><!--[--><svg xmlns="http://www.w3.org/2000/svg" class="icon edit-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="edit icon"><path d="M430.818 653.65a60.46 60.46 0 0 1-50.96-93.281l71.69-114.012 7.773-10.365L816.038 80.138A60.46 60.46 0 0 1 859.225 62a60.46 60.46 0 0 1 43.186 18.138l43.186 43.186a60.46 60.46 0 0 1 0 86.373L588.879 565.55l-8.637 8.637-117.466 68.234a60.46 60.46 0 0 1-31.958 11.229z"></path><path d="M728.802 962H252.891A190.883 190.883 0 0 1 62.008 771.98V296.934a190.883 190.883 0 0 1 190.883-192.61h267.754a60.46 60.46 0 0 1 0 120.92H252.891a69.962 69.962 0 0 0-69.098 69.099V771.98a69.962 69.962 0 0 0 69.098 69.098h475.911A69.962 69.962 0 0 0 797.9 771.98V503.363a60.46 60.46 0 1 1 120.922 0V771.98A190.883 190.883 0 0 1 728.802 962z"></path></svg><!--]-->ç¼–è¾‘æ­¤é¡µ<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!----></a></div><div class="meta-item git-info"><div class="update-time"><span class="label">ä¸Šæ¬¡ç¼–è¾‘äº: </span><!----></div><div class="contributors"><span class="label">è´¡çŒ®è€…: </span><!--[--><!--[--><span class="contributor" title="email: topjfk@163.com">jinfang</span><!--]--><!--]--></div></div></footer><nav class="page-nav"><!----><a href="/linux/ansible/ansible-doc.html" class="nav-link next" aria-label="ansible-docæ¨¡å—åŠŸèƒ½æŸ¥çœ‹å·¥å…·"><div class="hint">ä¸‹ä¸€é¡µ<span class="arrow right"></span></div><div class="link">ansible-docæ¨¡å—åŠŸèƒ½æŸ¥çœ‹å·¥å…·<span class="font-icon icon iconfont icon-linux" style=""></span></div></a></nav><div class="giscus-wrapper input-top" style="display:block;"><div style="text-align:center">Loading...</div></div><!----><!--]--></main><!--]--><footer class="footer-wrapper"><div class="footer"></div><div class="copyright">Copyright Â© 2023 topjf</div></footer></div><!--]--><!--]--><!----><!----><!----><!--]--></div>
    <script type="module" src="/assets/app-30d3d221.js" defer></script>
  </body>
</html>
