const e=JSON.parse('{"key":"v-965bd224","path":"/java/local-cloud-affairs-seata.html","title":"本地事务、分布式事务及seata","lang":"zh-CN","frontmatter":{"icon":"edit","title":"本地事务、分布式事务及seata","category":["Java","Cloud"],"date":"2020-01-01T00:00:00.000Z","tag":["本地事务","分布式事务"],"description":"image-20211004222533328 image-20211004223125542 1、事物本质：原子性、一致性、隔离性、持久性 数据库事务的几个特性：原子性(Atomicity )、一致性( Consistency )、隔离性或独立性( Isolation) 和持久性(Durabilily),简称就是ACID; ●原子性：一系列的操作整体...","head":[["meta",{"property":"og:url","content":"https://topjf.github.io/java/local-cloud-affairs-seata.html"}],["meta",{"property":"og:site_name","content":"topjf"}],["meta",{"property":"og:title","content":"本地事务、分布式事务及seata"}],["meta",{"property":"og:description","content":"image-20211004222533328 image-20211004223125542 1、事物本质：原子性、一致性、隔离性、持久性 数据库事务的几个特性：原子性(Atomicity )、一致性( Consistency )、隔离性或独立性( Isolation) 和持久性(Durabilily),简称就是ACID; ●原子性：一系列的操作整体..."}],["meta",{"property":"og:type","content":"article"}],["meta",{"property":"og:image","content":"https://topjf.github.io/"}],["meta",{"property":"og:locale","content":"zh-CN"}],["meta",{"property":"og:updated_time","content":"2022-12-16T06:02:03.000Z"}],["meta",{"name":"twitter:card","content":"summary_large_image"}],["meta",{"name":"twitter:image:alt","content":"本地事务、分布式事务及seata"}],["meta",{"property":"article:tag","content":"本地事务"}],["meta",{"property":"article:tag","content":"分布式事务"}],["meta",{"property":"article:published_time","content":"2020-01-01T00:00:00.000Z"}],["meta",{"property":"article:modified_time","content":"2022-12-16T06:02:03.000Z"}],["script",{"type":"application/ld+json"},"{\\"@context\\":\\"https://schema.org\\",\\"@type\\":\\"Article\\",\\"headline\\":\\"本地事务、分布式事务及seata\\",\\"image\\":[\\"https://topjf.github.io/\\"],\\"datePublished\\":\\"2020-01-01T00:00:00.000Z\\",\\"dateModified\\":\\"2022-12-16T06:02:03.000Z\\",\\"author\\":[]}"]]},"headers":[{"level":2,"title":"1、事物本质：原子性、一致性、隔离性、持久性","slug":"_1、事物本质-原子性、一致性、隔离性、持久性","link":"#_1、事物本质-原子性、一致性、隔离性、持久性","children":[]},{"level":2,"title":"2、隔离级别 Isolation：读未提交 < 读已提交 < 可重复读（MySQL默认） < 序列化","slug":"_2、隔离级别-isolation-读未提交-读已提交-可重复读-mysql默认-序列化","link":"#_2、隔离级别-isolation-读未提交-读已提交-可重复读-mysql默认-序列化","children":[{"level":3,"title":"脏读","slug":"脏读","link":"#脏读","children":[]},{"level":3,"title":"不可重复读","slug":"不可重复读","link":"#不可重复读","children":[]},{"level":3,"title":"虚读（幻读）","slug":"虚读-幻读","link":"#虚读-幻读","children":[]},{"level":3,"title":"READ UNCOMTTTED (读未提交)","slug":"read-uncomttted-读未提交","link":"#read-uncomttted-读未提交","children":[]},{"level":3,"title":"READ COMMITTED (读已提交)","slug":"read-committed-读已提交","link":"#read-committed-读已提交","children":[]},{"level":3,"title":"REPEATABLE READ (可重复读)","slug":"repeatable-read-可重复读","link":"#repeatable-read-可重复读","children":[]},{"level":3,"title":"SERIALIZABLE (序列化)","slug":"serializable-序列化","link":"#serializable-序列化","children":[]},{"level":3,"title":"相关命令","slug":"相关命令","link":"#相关命令","children":[]}]},{"level":2,"title":"3、7种传播行为 Propagation：常用（required、required_new）","slug":"_3、7种传播行为-propagation-常用-required、required-new","link":"#_3、7种传播行为-propagation-常用-required、required-new","children":[{"level":3,"title":"1.4.1.   伪代码练习","slug":"_1-4-1-伪代码练习","link":"#_1-4-1-伪代码练习","children":[]},{"level":3,"title":"1.4.2.   改造商品新增代码","slug":"_1-4-2-改造商品新增代码","link":"#_1-4-2-改造商品新增代码","children":[]},{"level":3,"title":"1.4.3.   测试1：同一 service + requires_new","slug":"_1-4-3-测试1-同一-service-requires-new","link":"#_1-4-3-测试1-同一-service-requires-new","children":[]},{"level":3,"title":"1.4.4.   测试2：不同service + requires_new","slug":"_1-4-4-测试2-不同service-requires-new","link":"#_1-4-4-测试2-不同service-requires-new","children":[]},{"level":3,"title":"事务要生效必须是代理对象在调用。","slug":"事务要生效必须是代理对象在调用。","link":"#事务要生效必须是代理对象在调用。","children":[]},{"level":3,"title":"1.4.5.   在同一个service中使用传播行为","slug":"_1-4-5-在同一个service中使用传播行为","link":"#_1-4-5-在同一个service中使用传播行为","children":[{"level":4,"title":"在类中获取代理对象分三个步骤：","slug":"在类中获取代理对象分三个步骤","link":"#在类中获取代理对象分三个步骤","children":[]}]}]},{"level":2,"title":"4、本地事务失效问题","slug":"_4、本地事务失效问题","link":"#_4、本地事务失效问题","children":[]},{"level":2,"title":"5、CAP定理、RAFT","slug":"_5、cap定理、raft","link":"#_5、cap定理、raft","children":[{"level":3,"title":"CAP","slug":"cap","link":"#cap","children":[]},{"level":3,"title":"RAFT","slug":"raft","link":"#raft","children":[]},{"level":3,"title":"BASE：基本使用、软状态、最终一致性","slug":"base-基本使用、软状态、最终一致性","link":"#base-基本使用、软状态、最终一致性","children":[]}]},{"level":2,"title":"6、解决方案","slug":"_6、解决方案","link":"#_6、解决方案","children":[{"level":3,"title":"2PC模式","slug":"_2pc模式","link":"#_2pc模式","children":[]},{"level":3,"title":"TCC","slug":"tcc","link":"#tcc","children":[]},{"level":3,"title":"最大努力通知方案","slug":"最大努力通知方案","link":"#最大努力通知方案","children":[]},{"level":3,"title":"可靠消息+最终一致性（异步确保型）","slug":"可靠消息-最终一致性-异步确保型","link":"#可靠消息-最终一致性-异步确保型","children":[]}]},{"level":2,"title":"7、seata 控制分布式事物 AT模式介（2PC）绍与安装","slug":"_7、seata-控制分布式事物-at模式介-2pc-绍与安装","link":"#_7、seata-控制分布式事物-at模式介-2pc-绍与安装","children":[{"level":3,"title":"7.1 介绍","slug":"_7-1-介绍","link":"#_7-1-介绍","children":[]},{"level":3,"title":"7.2 创建 UNDO_LOG 表","slug":"_7-2-创建-undo-log-表","link":"#_7-2-创建-undo-log-表","children":[]},{"level":3,"title":"7.3 安装seata-server1.3.0 注意版本关系","slug":"_7-3-安装seata-server1-3-0-注意版本关系","link":"#_7-3-安装seata-server1-3-0-注意版本关系","children":[{"level":4,"title":"指定自定义配置文件启动","slug":"指定自定义配置文件启动","link":"#指定自定义配置文件启动","children":[]},{"level":4,"title":"registry.conf 注册中心","slug":"registry-conf-注册中心","link":"#registry-conf-注册中心","children":[]},{"level":4,"title":"file.conf 配置中心，事务日志存储到哪里","slug":"file-conf-配置中心-事务日志存储到哪里","link":"#file-conf-配置中心-事务日志存储到哪里","children":[]}]},{"level":3,"title":"7.4 使用 @GlobalTransactional","slug":"_7-4-使用-globaltransactional","link":"#_7-4-使用-globaltransactional","children":[]},{"level":3,"title":"7.5 使用 seata 代理各个服务的数据源 注入 DataSourceProxy","slug":"_7-5-使用-seata-代理各个服务的数据源-注入-datasourceproxy","link":"#_7-5-使用-seata-代理各个服务的数据源-注入-datasourceproxy","children":[]},{"level":3,"title":"7.6 各个服务导入 registry.conf、file.conf 到 resources","slug":"_7-6-各个服务导入-registry-conf、file-conf-到-resources","link":"#_7-6-各个服务导入-registry-conf、file-conf-到-resources","children":[]},{"level":3,"title":"7.7 在高并发情况下，seata（AT模式）GlobalTransactional就不适用了，为了保证高并发，不推荐使用seata，因为是加锁，并行化，提升不了效率,可以发消息给库存服务","slug":"_7-7-在高并发情况下-seata-at模式-globaltransactional就不适用了-为了保证高并发-不推荐使用seata-因为是加锁-并行化-提升不了效率-可以发消息给库存服务","link":"#_7-7-在高并发情况下-seata-at模式-globaltransactional就不适用了-为了保证高并发-不推荐使用seata-因为是加锁-并行化-提升不了效率-可以发消息给库存服务","children":[]}]},{"level":2,"title":"8、数据最终一致性，MQ+MQ延迟队列","slug":"_8、数据最终一致性-mq-mq延迟队列","link":"#_8、数据最终一致性-mq-mq延迟队列","children":[]},{"level":2,"title":"9、如何保证消息可靠性","slug":"_9、如何保证消息可靠性","link":"#_9、如何保证消息可靠性","children":[{"level":3,"title":"a）、消息丢失","slug":"a-、消息丢失","link":"#a-、消息丢失","children":[]},{"level":3,"title":"b）、消息重复","slug":"b-、消息重复","link":"#b-、消息重复","children":[]},{"level":3,"title":"c）、消息积压","slug":"c-、消息积压","link":"#c-、消息积压","children":[]}]}],"git":{"createdTime":1671170523000,"updatedTime":1671170523000,"contributors":[{"name":"jinfang","email":"topjfk@163.com","commits":1}]},"readingTime":{"minutes":12.58,"words":3774},"filePathRelative":"java/local-cloud-affairs-seata.md","localizedDate":"2020年1月1日","excerpt":"","autoDesc":true}');export{e as data};
