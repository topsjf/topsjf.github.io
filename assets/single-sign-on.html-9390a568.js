const e=JSON.parse('{"key":"v-313c083b","path":"/java/single-sign-on.html","title":"单点登录（SSO）","lang":"zh-CN","frontmatter":{"icon":"edit","title":"单点登录（SSO）","category":["Java"],"time":"2020-02-02T00:00:00.000Z","tag":["SSO"],"description":"SSO英文全称Single Sign On，单点登录。 SSO是在多个应用系统中，用户只需要登录一次就可以访问所有相互信任的应用系统。 2.1. cookie问题 电商平台通常由多个微服务组成，每个微服务都有独立的域名，而cookie是有作用域的。 查看浏览器控制台： domain：作用域名 domain参数 atguigu.com sso.atgui...","head":[["meta",{"property":"og:url","content":"https://topjf.github.io/java/single-sign-on.html"}],["meta",{"property":"og:site_name","content":"topjf"}],["meta",{"property":"og:title","content":"单点登录（SSO）"}],["meta",{"property":"og:description","content":"SSO英文全称Single Sign On，单点登录。 SSO是在多个应用系统中，用户只需要登录一次就可以访问所有相互信任的应用系统。 2.1. cookie问题 电商平台通常由多个微服务组成，每个微服务都有独立的域名，而cookie是有作用域的。 查看浏览器控制台： domain：作用域名 domain参数 atguigu.com sso.atgui..."}],["meta",{"property":"og:type","content":"article"}],["meta",{"property":"og:locale","content":"zh-CN"}],["meta",{"property":"og:updated_time","content":"2022-12-16T06:02:03.000Z"}],["meta",{"property":"article:tag","content":"SSO"}],["meta",{"property":"article:published_time","content":"2020-02-02T00:00:00.000Z"}],["meta",{"property":"article:modified_time","content":"2022-12-16T06:02:03.000Z"}],["script",{"type":"application/ld+json"},"{\\"@context\\":\\"https://schema.org\\",\\"@type\\":\\"Article\\",\\"headline\\":\\"单点登录（SSO）\\",\\"image\\":[\\"\\"],\\"datePublished\\":\\"2020-02-02T00:00:00.000Z\\",\\"dateModified\\":\\"2022-12-16T06:02:03.000Z\\",\\"author\\":[]}"]]},"headers":[{"level":2,"title":"2.1. cookie问题","slug":"_2-1-cookie问题","link":"#_2-1-cookie问题","children":[]},{"level":2,"title":"2.2. 演示案例","slug":"_2-2-演示案例","link":"#_2-2-演示案例","children":[{"level":3,"title":"2.2.1. 测试一：不能访问兄弟域名cookie","slug":"_2-2-1-测试一-不能访问兄弟域名cookie","link":"#_2-2-1-测试一-不能访问兄弟域名cookie","children":[]},{"level":3,"title":"2.2.2. 测试二：可以访问父域名的cookie","slug":"_2-2-2-测试二-可以访问父域名的cookie","link":"#_2-2-2-测试二-可以访问父域名的cookie","children":[]},{"level":3,"title":"2.2.3. 测试三：cookie的作用路径","slug":"_2-2-3-测试三-cookie的作用路径","link":"#_2-2-3-测试三-cookie的作用路径","children":[]}]},{"level":2,"title":"2.3. 有状态登录","slug":"_2-3-有状态登录","link":"#_2-3-有状态登录","children":[]},{"level":2,"title":"2.4. 无状态登录","slug":"_2-4-无状态登录","link":"#_2-4-无状态登录","children":[]},{"level":2,"title":"2.5. 无状态登录流程","slug":"_2-5-无状态登录流程","link":"#_2-5-无状态登录流程","children":[]},{"level":2,"title":"3.1. 数据格式","slug":"_3-1-数据格式","link":"#_3-1-数据格式","children":[]},{"level":2,"title":"3.2. JWT交互流程","slug":"_3-2-jwt交互流程","link":"#_3-2-jwt交互流程","children":[]},{"level":2,"title":"3.3. 非对称加密","slug":"_3-3-非对称加密","link":"#_3-3-非对称加密","children":[]},{"level":2,"title":"4.1. 创建工程","slug":"_4-1-创建工程","link":"#_4-1-创建工程","children":[]},{"level":2,"title":"4.2. JWT工具类","slug":"_4-2-jwt工具类","link":"#_4-2-jwt工具类","children":[]},{"level":2,"title":"4.3. 测试工具类","slug":"_4-3-测试工具类","link":"#_4-3-测试工具类","children":[]},{"level":2,"title":"4.4. 配置公钥和私钥","slug":"_4-4-配置公钥和私钥","link":"#_4-4-配置公钥和私钥","children":[]},{"level":2,"title":"5.1. 跳转到登录页","slug":"_5-1-跳转到登录页","link":"#_5-1-跳转到登录页","children":[]},{"level":2,"title":"5.2. 完成登录功能","slug":"_5-2-完成登录功能","link":"#_5-2-完成登录功能","children":[{"level":3,"title":"5.2.1. AuthController","slug":"_5-2-1-authcontroller","link":"#_5-2-1-authcontroller","children":[]},{"level":3,"title":"5.2.2. AuthService","slug":"_5-2-2-authservice","link":"#_5-2-2-authservice","children":[]},{"level":3,"title":"5.2.3. GmallUmsClient","slug":"_5-2-3-gmallumsclient","link":"#_5-2-3-gmallumsclient","children":[]},{"level":3,"title":"5.2.4. 测试","slug":"_5-2-4-测试","link":"#_5-2-4-测试","children":[]}]},{"level":2,"title":"5.3. 解决cookie写入问题","slug":"_5-3-解决cookie写入问题","link":"#_5-3-解决cookie写入问题","children":[{"level":3,"title":"5.3.1. 跟踪CookieUtils","slug":"_5-3-1-跟踪cookieutils","link":"#_5-3-1-跟踪cookieutils","children":[]},{"level":3,"title":"5.3.2. domain地址变化原因","slug":"_5-3-2-domain地址变化原因","link":"#_5-3-2-domain地址变化原因","children":[]},{"level":3,"title":"5.3.3. nginx转发时要携带域名","slug":"_5-3-3-nginx转发时要携带域名","link":"#_5-3-3-nginx转发时要携带域名","children":[]},{"level":3,"title":"5.3.4. 网关转发时要携带域名","slug":"_5-3-4-网关转发时要携带域名","link":"#_5-3-4-网关转发时要携带域名","children":[]},{"level":3,"title":"5.3.5. 再次登录测试","slug":"_5-3-5-再次登录测试","link":"#_5-3-5-再次登录测试","children":[]}]},{"level":2,"title":"5.4. 公共页头显示用户名","slug":"_5-4-公共页头显示用户名","link":"#_5-4-公共页头显示用户名","children":[]},{"level":2,"title":"6.1. 自定义全局过滤器","slug":"_6-1-自定义全局过滤器","link":"#_6-1-自定义全局过滤器","children":[]},{"level":2,"title":"6.2. 自定义局部过滤器","slug":"_6-2-自定义局部过滤器","link":"#_6-2-自定义局部过滤器","children":[{"level":3,"title":"6.2.1. 过滤器工厂AuthGatewayFilterFactory","slug":"_6-2-1-过滤器工厂authgatewayfilterfactory","link":"#_6-2-1-过滤器工厂authgatewayfilterfactory","children":[]},{"level":3,"title":"6.2.2. 在配置文件中使用","slug":"_6-2-2-在配置文件中使用","link":"#_6-2-2-在配置文件中使用","children":[]},{"level":3,"title":"6.2.3. 读取过滤器配置内容","slug":"_6-2-3-读取过滤器配置内容","link":"#_6-2-3-读取过滤器配置内容","children":[]}]},{"level":2,"title":"6.3. 通过自定义局部过滤器完成登录验证","slug":"_6-3-通过自定义局部过滤器完成登录验证","link":"#_6-3-通过自定义局部过滤器完成登录验证","children":[{"level":3,"title":"6.3.1. 引入jwt相关配置","slug":"_6-3-1-引入jwt相关配置","link":"#_6-3-1-引入jwt相关配置","children":[]},{"level":3,"title":"6.3.2. 编写代码实现登录拦截","slug":"_6-3-2-编写代码实现登录拦截","link":"#_6-3-2-编写代码实现登录拦截","children":[]},{"level":3,"title":"6.3.3. 配置过滤器并测试","slug":"_6-3-3-配置过滤器并测试","link":"#_6-3-3-配置过滤器并测试","children":[]}]},{"level":2,"title":"6.4. 常见异常解决","slug":"_6-4-常见异常解决","link":"#_6-4-常见异常解决","children":[]}],"git":{"createdTime":1671170523000,"updatedTime":1671170523000,"contributors":[{"name":"jinfang","email":"topjfk@163.com","commits":1}]},"readingTime":{"minutes":20.29,"words":6088},"filePathRelative":"java/single-sign-on.md","localizedDate":"2022年12月16日","excerpt":"","autoDesc":true}');export{e as data};
